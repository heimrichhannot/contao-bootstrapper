(function(c){var d={init:function(){this.initFastClick();this.toggleCollapseFromHash();this.openModalFromHash();this.initModalNavigation();this.initModalRemoteUpdate();this.initNavbar();this.navFollowLinkIfItemsOpen();this.supportNestedDropdowns();this.addChosenSupport();this.initDateTimePicker();this.initSlider();this.setUrlHistoryFromModalLink();this.loadModalFromUrl();this.onCloseModal();this.initCarouselProgressBar();this.initGalleryCarousel();this.addPlaceholderTagSupport();this.initJQueryValidation();this.initAjaxForms();this.initScrollClass();this.megaMenuEqualHeight()},megaMenuEqualHeight:function(){c('[data-equal-height="ul.nav"]').each(function(){var a=c(this),b=0,f=0;a.find(a.data("equal-height")).each(function(){var e=c(this).actual("innerHeight");actualOuterHeight=c(this).actual("outerHeight",{includeMargin:true});if(actualOuterHeight>f){f=actualOuterHeight}if(e>b){b=e}});a.height(f);a.find(".submenu-wrapper").height(b)})},initSelect2:function(){c("select").select2({minimumResultsForSearch:10})},supportNestedDropdowns:function(){c("ul.dropdown-menu").on("click",'a[data-toggle="dropdown"]',function(a){a.preventDefault();a.stopPropagation();c("ul.dropdown-menu [data-toggle=dropdown]").parent().removeClass("open");c(this).parent().addClass("open")})},initScrollClass:function(){c(window).on("scroll",function(a){var b=c(window).scrollTop();c('[data-spy="scroll"]').each(function(){var i=c(this),j=i.data("scrollclass"),h=i.data("offset")?i.data("offset"):1;if(j==null){return true}if(b>h){i.addClass(j)}else{i.removeClass(j)}})})},initNavbar:function(){c(".navbar-collapse").on("shown.bs.collapse",function(){c("body").addClass("navbar-xs-open")});c(".navbar-collapse").on("hide.bs.collapse",function(){c("body").removeClass("navbar-xs-open")})},addPlaceholderTagSupport:function(){if(!Modernizr.input.placeholder){c("input, textarea").placeholder()}},initJQueryValidation:function(){if(c("form.jquery-validation").length>0){c("form.jquery-validation").validate({errorClass:"error",focusInvalid:false})}},initAjaxForms:function(){c("body").on("submit",".ajax-form",function(a){console.log("fo");var e=c(this),b=e.serializeArray();a.preventDefault();b.push({name:"isAjax",value:"1"});c.ajax(e.attr("action"),{data:b,method:c(this).attr("method"),success:function(f){var h,f="<div>"+f+"</div>";if(e.data("replace")){h=c(f).find(e.data("replace"));if(h!==undefined){c(e.data("replace")).html(h)}}else{h=c(f).find("#"+e.attr("id"));if(h.length<1){e.html(f)}else{e.replaceWith(h)}}}})})},initGalleryCarousel:function(){c(".ce_gallery ul").each(function(){var a=c(this);if(a.find("li").length>1){a.elastislide()}})},initCarouselProgressBar:function(){var b=0,k=c(".carousel-progress .progress-bar"),a=k.find(".sr-only"),l=c(".carousel"),o=200,m=Math.floor(o*100/parseInt(l.data("interval")));function n(){if(b>0){k.removeClass("carousel-transition")}if(b>=100){a.text("100%");k.css({width:"100%"});b=100;l.carousel("next");k.addClass("carousel-transition");return false}k.css({width:b+"%"});a.text(b+"%");b+=m}var p=setInterval(n,o);l.carousel({interval:false,pause:false}).on("slide.bs.carousel",function(){clearInterval(p)}).on("slid.bs.carousel",function(){b=0;p=setInterval(n,o)});l.hover(function(){clearInterval(p)},function(){p=setInterval(n,o)});l.on("click",".carousel-control, .carousel-indicators",function(){b=0;clearInterval(p);k.addClass("carousel-transition").css({width:"0%"})})},onCloseModal:function(){if(c("body.ie9, body.ie8, body.ie7, body.ie6").length>0){return}c(".modal").on("hide.bs.modal",function(l){var m=c(this),p=m.find(".layout_full"),o=c("body").data("page-alias")=="startseite"?"":c("body").data("page-alias"),a=m.data("history-delete"),b=p.data("history-delete"),e=p.data("history-base"),n=location.href.replace("/"+(b?b:a),"");n=o!=e?n.replace(e,o):n;history.pushState(null,null,n)})},setUrlHistoryFromModalLink:function(){c('[data-toggle="modal"]').on("click",function(a){var b=c(this);c(".modal").data("history-back",window.location);history.pushState(null,null,b.attr("href"))})},loadModalFromUrl:function(){c(".modal.in").modal("show")},initDateTimePicker:function(){var a={lang:c("html").attr("lang"),startDate:new Date(),icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down"}};c(".datepicker").each(function(j,i){var h=c(this),b=h.find("input");h.datetimepicker(c.extend({timepicker:false,format:b.data("format")},a))});c(".timepicker").each(function(j,i){var h=c(this),b=h.find("input");b.datetimepicker(c.extend({datepicker:false,step:b.data("steps"),format:b.data("format")},a));h.find(".input-group-addon").click(function(){b.datetimepicker("show")})})},initSlider:function(){c("input.slider").slider()},toggleCollapseFromHash:function(){var a=c(location.hash+".collapse");if(!location.hash||a.length<1){return false}a.closest(".panel-group").find(".collapse").removeClass("in");a.addClass("in")},openModalFromHash:function(){var a=c(location.hash);if(!location.hash||a.length<1||!a.hasClass("modal")){return false}a.modal("show")},initModalNavigation:function(){c(".modal").on("click",".modal-next",function(a){a.preventDefault();window.location=c(this).attr("href")})},initModalRemoteUpdate:function(){c("body").on("hidden.bs.modal",".modal",function(){c(this).removeData("bs.modal")});c('a[data-toggle="modal"][data-remote]').on("click",function(a){a.preventDefault();var b=c(this),e=c(b.data("target"));c.ajax({url:b.attr("href")}).done(function(f){e.find(".modal-content").replaceWith(f).end().modal()});return false})},navFollowLinkIfItemsOpen:function(){c(".nav-collapse").on("click",'a[data-toggle="dropdown"]',function(a){var b=c(this),e=b.parent("li");if(this.href!==undefined&&e.hasClass("open")){if(this.target.length){window.open(this.href,this.target)}else{window.location=this.href}}})},addChosenSupport:function(){c(".tl_chosen").chosen({search_contains:true,no_results_text:"Keine Ergebnisse fÃ¼r",placeholder_text_multiple:" ",placeholder_text_single:" ",width:"100%"}).change(function(a,b){c(this).trigger("chosen:updated")})},initFastClick:function(){FastClick.attach(document.body)}};c(document).ready(function(){if((typeof c().emulateTransitionEnd=="function")){d.init()}})})(jQuery);