Selectize.define("optgroup_columns",function(c){var b=this;c=$.extend({equalizeWidth:true,equalizeHeight:true},c);this.getAdjacentOption=function(h,g){var e=h.closest("[data-group]").find("[data-selectable]");var f=e.index(h)+g;return f>=0&&f<e.length?e.eq(f):$()};this.onKeyDown=(function(){var e=b.onKeyDown;return function(j){var h,i,f,g;if(this.isOpen&&(j.keyCode===KEY_LEFT||j.keyCode===KEY_RIGHT)){b.ignoreHover=true;g=this.$activeOption.closest("[data-group]");h=g.find("[data-selectable]").index(this.$activeOption);if(j.keyCode===KEY_LEFT){g=g.prev("[data-group]")}else{g=g.next("[data-group]")}f=g.find("[data-selectable]");i=f.eq(Math.min(f.length-1,h));if(i.length){this.setActiveOption(i)}return}return e.apply(this,arguments)}})();var a=function(){var g;var e=a.width;var f=document;if(typeof e==="undefined"){g=f.createElement("div");g.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>';g=g.firstChild;f.body.appendChild(g);e=a.width=g.offsetWidth-g.clientWidth;f.body.removeChild(g)}return e};var d=function(){var f,l,e,g,k,j,h;h=$("[data-group]",b.$dropdown_content);l=h.length;if(!l||!b.$dropdown_content.width()){return}if(c.equalizeHeight){e=0;for(f=0;f<l;f++){e=Math.max(e,h.eq(f).height())}h.css({height:e})}if(c.equalizeWidth){j=b.$dropdown_content.innerWidth()-a();g=Math.round(j/l);h.css({width:g});if(l>1){k=j-g*(l-1);h.eq(l-1).css({width:k})}}};if(c.equalizeHeight||c.equalizeWidth){hook.after(this,"positionDropdown",d);hook.after(this,"refreshOptions",d)}});