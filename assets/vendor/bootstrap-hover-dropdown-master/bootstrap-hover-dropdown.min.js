(function(b,a,c){var d=b();b.fn.dropdownHover=function(e){if("ontouchstart" in document){return this}d=d.add(this.parent());return this.each(function(){var l=b(this),i=l.parent(),h={delayClose:1000,delayOpen:300,delaySwitch:100,instantlyCloseOthers:true},j={delayClose:b(this).data("delay-close"),delayOpen:b(this).data("delay-open"),delaySwitch:b(this).data("delay-switch"),instantlyCloseOthers:b(this).data("close-others")},n="show.bs.dropdown",f="hide.bs.dropdown",g=b.extend(true,{},h,e,j),o,k;i.hover(function(q){if(i.hasClass("show")&&!l.is(q.target)){return true}var p=i.parents(".dropdown-menu").length,r=i.siblings().hasClass("show");a.clearTimeout(k);o=a.setTimeout(function(){m(q)},r||p?g.delaySwitch:g.delayOpen)},function(){clearTimeout(o);var p=i.parents(".dropdown-menu").length;k=a.setTimeout(function(){i.removeClass("show");l.trigger(f)},o&&!p?g.delayClose:g.delaySwitch)});d.find(".dropdown-menu").hover(function(){a.clearTimeout(k)},function(){var p=b(this).parents(".dropdown-menu").length;if(p){return true}k=a.setTimeout(function(){i.removeClass("show");l.trigger(f)},o>0?g.delayClose:0)});l.hover(function(p){if(i.hasClass("show")&&!i.is(p.target)){return true}});i.find(".dropdown-submenu").each(function(){var q=b(this);var p;q.hover(function(){a.clearTimeout(p);q.children(".dropdown-menu").show();q.siblings().children(".dropdown-menu").hide()},function(){var r=q.children(".dropdown-menu");p=a.setTimeout(function(){r.hide()},o>0?g.delayClose:0)})});function m(p){d.find(":focus").blur();if(g.instantlyCloseOthers===true){if(l.parents(".dropdown-menu").length&&l.siblings().parent().hasClass("show")){l.siblings().parent().removeClass("show")}else{l.parent("li").siblings().removeClass("show")}}a.clearTimeout(k);i.addClass("show");l.trigger(n)}})};jQuery(document).ready(function(){if(Modernizr.touch){var f=b('[data-hover="dropdown"]'),g=b('[data-hover="dropdown"].trail, [data-hover="dropdown"].active'),e=Modernizr.mq("screen and (max-width: 767px)");f.attr("data-toggle","dropdown");f.removeAttr("data-hover","");if(e){g.parent().addClass("show")}f.parent().on("hide.bs.dropdown",function(i){var h=b(this);if(h.hasClass("trail")||h.hasClass("active")){i.preventDefault()}});f.on("click",function(i){var h=b(this);h.parent().siblings().removeClass("show")});return false}b('[data-hover="dropdown"]').dropdownHover()})})(jQuery,this);if(window.MooTools){window.addEvent("domready",function(){Element.prototype.hide=function(){if($(this).getAttribute("data-hover")=="dropdown"){return this}this.setStyle("display","none")}})};