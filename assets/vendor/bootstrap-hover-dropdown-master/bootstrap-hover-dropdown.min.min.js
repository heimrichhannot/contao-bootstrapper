(function(e,f,h){var g=e();e.fn.dropdownHover=function(a){if("ontouchstart" in document){return this}g=g.add(this.parent());return this.each(function(){var p=e(this),s=p.parent(),t={delayClose:1000,delayOpen:300,delaySwitch:100,instantlyCloseOthers:true},r={delayClose:e(this).data("delay-close"),delayOpen:e(this).data("delay-open"),delaySwitch:e(this).data("delay-switch"),instantlyCloseOthers:e(this).data("close-others")},c="show.bs.dropdown",v="hide.bs.dropdown",u=e.extend(true,{},t,a,r),b,q;s.hover(function(j){if(s.hasClass("open")&&!p.is(j.target)){return true}var k=s.parents(".dropdown-menu").length,i=s.siblings().hasClass("open");f.clearTimeout(q);b=f.setTimeout(function(){d(j)},i||k?u.delaySwitch:u.delayOpen)},function(){clearTimeout(b);var i=s.parents(".dropdown-menu").length;q=f.setTimeout(function(){s.removeClass("open");p.trigger(v)},b&&!i?u.delayClose:u.delaySwitch)});g.find(".dropdown-menu").hover(function(){f.clearTimeout(q)},function(){var i=e(this).parents(".dropdown-menu").length;if(i){return true}q=f.setTimeout(function(){s.removeClass("open");p.trigger(v)},b>0?u.delayClose:0)});p.hover(function(i){if(s.hasClass("open")&&!s.is(i.target)){return true}});s.find(".dropdown-submenu").each(function(){var i=e(this);var j;i.hover(function(){f.clearTimeout(j);i.children(".dropdown-menu").show();i.siblings().children(".dropdown-menu").hide()},function(){var k=i.children(".dropdown-menu");j=f.setTimeout(function(){k.hide()},b>0?u.delayClose:0)})});function d(i){g.find(":focus").blur();if(u.instantlyCloseOthers===true){if(p.parents(".dropdown-menu").length&&p.siblings().parent().hasClass("open")){p.siblings().parent().removeClass("open")}else{p.parent("li").siblings().removeClass("open")}}f.clearTimeout(q);s.addClass("open");p.trigger(c)}})};jQuery(document).ready(function(){if(Modernizr.touch){var b=e('[data-hover="dropdown"]'),a=e('[data-hover="dropdown"].trail, [data-hover="dropdown"].active'),c=Modernizr.mq("screen and (max-width: 767px)");b.attr("data-toggle","dropdown");b.removeAttr("data-hover","");if(c){a.parent().addClass("open")}b.parent().on("hide.bs.dropdown",function(d){var j=e(this);if(j.hasClass("trail")||j.hasClass("active")){d.preventDefault()}});b.on("click",function(d){var j=e(this);j.parent().siblings().removeClass("open")});return false}e('[data-hover="dropdown"]').dropdownHover()})})(jQuery,this);if(window.MooTools){window.addEvent("domready",function(){Element.prototype.hide=function(){if($(this).getAttribute("data-hover")=="dropdown"){return this}this.setStyle("display","none")}})};