define(["./core","./var/concat","./var/push","./core/access","./manipulation/var/rcheckableType","./manipulation/support","./data/var/data_priv","./data/var/data_user","./core/init","./data/accepts","./traversing","./selector","./event"],function(J,P,N,R,E,K,y,V){var L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,U=/<([\w:]+)/,D=/<|&#?\w+;/,S=/<(?:script|style|link)/i,O=/checked\s*(?:[^=]|=\s*.checked.)/i,M=/^$|\/(?:java|ecma)script/i,C=/^true\/(.*)/,T=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,I={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};I.optgroup=I.option;I.tbody=I.tfoot=I.colgroup=I.caption=I.thead;I.th=I.td;function z(a,b){return J.nodeName(a,"table")&&J.nodeName(b.nodeType!==11?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function A(a){a.type=(a.getAttribute("type")!==null)+"/"+a.type;return a}function Q(a){var b=C.exec(a.type);if(b){a.type=b[1]}else{a.removeAttribute("type")}return a}function B(b,d){var a=0,c=b.length;for(;a<c;a++){y.set(b[a],"globalEval",!d||y.get(d[a],"globalEval"))}}function G(f,h){var c,e,a,j,d,i,b,g;if(h.nodeType!==1){return}if(y.hasData(f)){j=y.access(f);d=y.set(h,j);g=j.events;if(g){delete d.handle;d.events={};for(a in g){for(c=0,e=g[a].length;c<e;c++){J.event.add(h,a,g[a][c])}}}}if(V.hasData(f)){i=V.access(f);b=J.extend({},i);V.set(h,b)}}function H(a,c){var b=a.getElementsByTagName?a.getElementsByTagName(c||"*"):a.querySelectorAll?a.querySelectorAll(c||"*"):[];return c===undefined||c&&J.nodeName(a,c)?J.merge([a],b):b}function F(b,c){var a=c.nodeName.toLowerCase();if(a==="input"&&E.test(b.type)){c.checked=b.checked}else{if(a==="input"||a==="textarea"){c.defaultValue=b.defaultValue}}}J.extend({clone:function(e,c,f){var b,d,i,a,g=e.cloneNode(true),h=J.contains(e.ownerDocument,e);if(!K.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!J.isXMLDoc(e)){a=H(g);i=H(e);for(b=0,d=i.length;b<d;b++){F(i[b],a[b])}}if(c){if(f){i=i||H(e);a=a||H(g);for(b=0,d=i.length;b<d;b++){G(i[b],a[b])}}else{G(e,g)}}a=H(g,"script");if(a.length>0){B(a,!h&&H(e,"script"))}return g},buildFragment:function(e,c,m,h){var b,j,f,d,n,l,i=c.createDocumentFragment(),g=[],k=0,a=e.length;for(;k<a;k++){b=e[k];if(b||b===0){if(J.type(b)==="object"){J.merge(g,b.nodeType?[b]:b)}else{if(!D.test(b)){g.push(c.createTextNode(b))}else{j=j||i.appendChild(c.createElement("div"));f=(U.exec(b)||["",""])[1].toLowerCase();d=I[f]||I._default;j.innerHTML=d[1]+b.replace(L,"<$1></$2>")+d[2];l=d[0];while(l--){j=j.lastChild}J.merge(g,j.childNodes);j=i.firstChild;j.textContent=""}}}}i.textContent="";k=0;while((b=g[k++])){if(h&&J.inArray(b,h)!==-1){continue}n=J.contains(b.ownerDocument,b);j=H(i.appendChild(b),"script");if(n){B(j)}if(m){l=0;while((b=j[l++])){if(M.test(b.type||"")){m.push(b)}}}}return i},cleanData:function(g){var b,c,e,f,d=J.event.special,a=0;for(;(c=g[a])!==undefined;a++){if(J.acceptData(c)){f=c[y.expando];if(f&&(b=y.cache[f])){if(b.events){for(e in b.events){if(d[e]){J.event.remove(c,e)}else{J.removeEvent(c,e,b.handle)}}}if(y.cache[f]){delete y.cache[f]}}}delete V.cache[c[V.expando]]}}});J.fn.extend({text:function(a){return R(this,function(b){return b===undefined?J.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=b}})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(b){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var a=z(this,b);a.appendChild(b)}})},prepend:function(){return this.domManip(arguments,function(b){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var a=z(this,b);a.insertBefore(b,a.firstChild)}})},before:function(){return this.domManip(arguments,function(a){if(this.parentNode){this.parentNode.insertBefore(a,this)}})},after:function(){return this.domManip(arguments,function(a){if(this.parentNode){this.parentNode.insertBefore(a,this.nextSibling)}})},remove:function(e,c){var d,b=e?J.filter(e,this):this,a=0;for(;(d=b[a])!=null;a++){if(!c&&d.nodeType===1){J.cleanData(H(d))}if(d.parentNode){if(c&&J.contains(d.ownerDocument,d)){B(H(d,"script"))}d.parentNode.removeChild(d)}}return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){if(a.nodeType===1){J.cleanData(H(a,false));a.textContent=""}}return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return J.clone(this,a,b)})},html:function(a){return R(this,function(e){var f=this[0]||{},b=0,d=this.length;if(e===undefined&&f.nodeType===1){return f.innerHTML}if(typeof e==="string"&&!S.test(e)&&!I[(U.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(L,"<$1></$2>");try{for(;b<d;b++){f=this[b]||{};if(f.nodeType===1){J.cleanData(H(f,false));f.innerHTML=e}}f=0}catch(c){}}if(f){this.empty().append(e)}},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];this.domManip(arguments,function(b){a=this.parentNode;J.cleanData(H(this));if(a){a.replaceChild(b,this)}});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,true)},domManip:function(l,f){l=P.apply([],l);var m,n,b,h,d,i,a=0,c=this.length,j=this,g=c-1,k=l[0],e=J.isFunction(k);if(e||(c>1&&typeof k==="string"&&!K.checkClone&&O.test(k))){return this.each(function(o){var p=j.eq(o);if(e){l[0]=k.call(this,o,p.html())}p.domManip(l,f)})}if(c){m=J.buildFragment(l,this[0].ownerDocument,false,this);n=m.firstChild;if(m.childNodes.length===1){m=n}if(n){b=J.map(H(m,"script"),A);h=b.length;for(;a<c;a++){d=m;if(a!==g){d=J.clone(d,true,true);if(h){J.merge(b,H(d,"script"))}}f.call(this[a],d,a)}if(h){i=b[b.length-1].ownerDocument;J.map(b,Q);for(a=0;a<h;a++){d=b[a];if(M.test(d.type||"")&&!y.access(d,"globalEval")&&J.contains(i,d)){if(d.src){if(J._evalUrl){J._evalUrl(d.src)}}else{J.globalEval(d.textContent.replace(T,""))}}}}}}return this}});J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){J.fn[b]=function(c){var h,g=[],d=J(c),e=d.length-1,f=0;for(;f<=e;f++){h=f===e?this:this.clone(true);J(d[f])[a](h);N.apply(g,h.get())}return this.pushStack(g)}});return J});