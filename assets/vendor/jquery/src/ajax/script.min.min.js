define(["../core","../ajax"],function(b){b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){b.globalEval(a);return a}}});b.ajaxPrefilter("script",function(a){if(a.cache===undefined){a.cache=false}if(a.crossDomain){a.type="GET"}});b.ajaxTransport("script",function(f){if(f.crossDomain){var a,e;return{send:function(c,d){a=b("<script>").prop({async:true,charset:f.scriptCharset,src:f.url}).on("load error",e=function(h){a.remove();e=null;if(h){d(h.type==="error"?404:200,h.type)}});document.head.appendChild(a[0])},abort:function(){if(e){e()}}}}})});