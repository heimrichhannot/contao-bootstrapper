define(["../core","../var/indexOf","./var/rneedsContext","../selector"],function(j,g,h){var f=/^.[^:#\[\.,]*$/;function i(a,c,b){if(j.isFunction(c)){return j.grep(a,function(d,e){return !!c.call(d,e,d)!==b})}if(c.nodeType){return j.grep(a,function(d){return(d===c)!==b})}if(typeof c==="string"){if(f.test(c)){return j.filter(c,a,b)}c=j.filter(c,a)}return j.grep(a,function(d){return(g.call(c,d)>=0)!==b})}j.filter=function(a,d,b){var c=d[0];if(b){a=":not("+a+")"}return d.length===1&&c.nodeType===1?j.find.matchesSelector(c,a)?[c]:[]:j.find.matches(a,j.grep(d,function(e){return e.nodeType===1}))};j.fn.extend({find:function(d){var a,e=this.length,b=[],c=this;if(typeof d!=="string"){return this.pushStack(j(d).filter(function(){for(a=0;a<e;a++){if(j.contains(c[a],this)){return true}}}))}for(a=0;a<e;a++){j.find(d,c[a],b)}b=this.pushStack(e>1?j.unique(b):b);b.selector=this.selector?this.selector+" "+d:d;return b},filter:function(a){return this.pushStack(i(this,a||[],false))},not:function(a){return this.pushStack(i(this,a||[],true))},is:function(a){return !!i(this,typeof a==="string"&&h.test(a)?j(a):a||[],false).length}})});