+function(f){function d(b,c){var h;var a=f.proxy(this.process,this);this.$element=f(b).is("body")?f(window):f(b);this.$body=f("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",a);this.options=f.extend({},d.DEFAULTS,c);this.selector=(this.options.target||((h=f(b).attr("href"))&&h.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.offsets=f([]);this.targets=f([]);this.activeTarget=null;this.refresh();this.process()}d.DEFAULTS={offset:10};d.prototype.refresh=function(){var c=this.$element[0]==window?"offset":"position";this.offsets=f([]);this.targets=f([]);var b=this;var a=this.$body.find(this.selector).map(function(){var k=f(this);var l=k.data("target")||k.attr("href");var j=/^#./.test(l)&&f(l);return(j&&j.length&&j.is(":visible")&&[[j[c]().top+(!f.isWindow(b.$scrollElement.get(0))&&b.$scrollElement.scrollTop()),l]])||null}).sort(function(i,j){return i[0]-j[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})};d.prototype.process=function(){var b=this.$scrollElement.scrollTop()+this.options.offset;var l=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight;var c=l-this.$scrollElement.height();var i=this.offsets;var n=this.targets;var a=this.activeTarget;var m;if(b>=c){return a!=(m=n.last()[0])&&this.activate(m)}if(a&&b<=i[0]){return a!=(m=n[0])&&this.activate(m)}for(m=i.length;m--;){a!=n[m]&&b>=i[m]&&(!i[m+1]||b<=i[m+1])&&this.activate(n[m])}};d.prototype.activate=function(a){this.activeTarget=a;f(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]';var b=f(c).parents("li").addClass("active");if(b.parent(".dropdown-menu").length){b=b.closest("li.dropdown").addClass("active")}b.trigger("activate.bs.scrollspy")};var e=f.fn.scrollspy;f.fn.scrollspy=function(a){return this.each(function(){var b=f(this);var c=b.data("bs.scrollspy");var h=typeof a=="object"&&a;if(!c){b.data("bs.scrollspy",(c=new d(this,h)))}if(typeof a=="string"){c[a]()}})};f.fn.scrollspy.Constructor=d;f.fn.scrollspy.noConflict=function(){f.fn.scrollspy=e;return this};f(window).on("load",function(){f('[data-spy="scroll"]').each(function(){var a=f(this);a.scrollspy(a.data())})})}(jQuery);