$(function(){module("collapse");test("should provide no conflict",function(){var b=$.fn.collapse.noConflict();ok(!$.fn.collapse,"collapse was set back to undefined (org value)");$.fn.collapse=b});test("should be defined on jquery object",function(){ok($(document.body).collapse,"collapse method is defined")});test("should return element",function(){ok($(document.body).collapse()[0]==document.body,"document.body returned")});test("should show a collapsed element",function(){var b=$('<div class="collapse"></div>').collapse("show");ok(b.hasClass("in"),"has class in");ok(/height/.test(b.attr("style")),"has height set")});test("should hide a collapsed element",function(){var b=$('<div class="collapse"></div>').collapse("hide");ok(!b.hasClass("in"),"does not have class in");ok(/height/.test(b.attr("style")),"has height set")});test("should not fire shown when show is prevented",function(){$.support.transition=false;stop();$('<div class="collapse"/>').on("show.bs.collapse",function(b){b.preventDefault();ok(true);start()}).on("shown.bs.collapse",function(){ok(false)}).collapse("show")});test("should reset style to auto after finishing opening collapse",function(){$.support.transition=false;stop();$('<div class="collapse" style="height: 0px"/>').on("show.bs.collapse",function(){ok(this.style.height=="0px")}).on("shown.bs.collapse",function(){ok(this.style.height=="auto");start()}).collapse("show")});test("should add active class to target when collapse shown",function(){$.support.transition=false;stop();var c=$('<a data-toggle="collapse" href="#test1"></a>').appendTo($("#qunit-fixture"));var d=$('<div id="test1"></div>').appendTo($("#qunit-fixture")).on("show.bs.collapse",function(){ok(!c.hasClass("collapsed"));start()});c.click()});test("should remove active class to target when collapse hidden",function(){$.support.transition=false;stop();var c=$('<a data-toggle="collapse" href="#test1"></a>').appendTo($("#qunit-fixture"));var d=$('<div id="test1" class="in"></div>').appendTo($("#qunit-fixture")).on("hide.bs.collapse",function(){ok(c.hasClass("collapsed"));start()});c.click()});test("should remove active class from inactive accordion targets",function(){$.support.transition=false;stop();var n=$('<div id="accordion"><div class="accordion-group"></div><div class="accordion-group"></div><div class="accordion-group"></div></div>').appendTo($("#qunit-fixture"));var l=$('<a data-toggle="collapse" href="#body1" data-parent="#accordion"></a>').appendTo(n.find(".accordion-group").eq(0));var k=$('<div id="body1" class="in"></div>').appendTo(n.find(".accordion-group").eq(0));var h=$('<a class="collapsed" data-toggle="collapse" href="#body2" data-parent="#accordion"></a>').appendTo(n.find(".accordion-group").eq(1));var m=$('<div id="body2"></div>').appendTo(n.find(".accordion-group").eq(1));var j=$('<a class="collapsed" data-toggle="collapse" href="#body3" data-parent="#accordion"></a>').appendTo(n.find(".accordion-group").eq(2));var i=$('<div id="body3"></div>').appendTo(n.find(".accordion-group").eq(2)).on("show.bs.collapse",function(){ok(l.hasClass("collapsed"));ok(h.hasClass("collapsed"));ok(!j.hasClass("collapsed"));start()});j.click()});test("should allow dots in data-parent",function(){$.support.transition=false;stop();var n=$('<div class="accordion"><div class="accordion-group"></div><div class="accordion-group"></div><div class="accordion-group"></div></div>').appendTo($("#qunit-fixture"));var l=$('<a data-toggle="collapse" href="#body1" data-parent=".accordion"></a>').appendTo(n.find(".accordion-group").eq(0));var k=$('<div id="body1" class="in"></div>').appendTo(n.find(".accordion-group").eq(0));var h=$('<a class="collapsed" data-toggle="collapse" href="#body2" data-parent=".accordion"></a>').appendTo(n.find(".accordion-group").eq(1));var m=$('<div id="body2"></div>').appendTo(n.find(".accordion-group").eq(1));var j=$('<a class="collapsed" data-toggle="collapse" href="#body3" data-parent=".accordion"></a>').appendTo(n.find(".accordion-group").eq(2));var i=$('<div id="body3"></div>').appendTo(n.find(".accordion-group").eq(2)).on("show.bs.collapse",function(){ok(l.hasClass("collapsed"));ok(h.hasClass("collapsed"));ok(!j.hasClass("collapsed"));start()});j.click()})});