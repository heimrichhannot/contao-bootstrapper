(function(){function b(d,c){var e;for(e in c){if(c.hasOwnProperty(e)){d[e]=c[e]}}return d}function a(d){if(!this||this.find!==a.prototype.find){return new a(d)}this.length=0;if(d){if(typeof d==="string"){d=this.find(d)}if(d.nodeType||d===d.window){this.length=1;this[0]=d}else{var c=d.length;this.length=c;while(c){c-=1;this[c]=d[c]}}}}a.extend=b;a.contains=function(c,d){do{d=d.parentNode;if(d===c){return true}}while(d);return false};a.parseJSON=function(c){return window.JSON&&JSON.parse(c)};b(a.prototype,{find:function(d){var c=this[0]||document;if(typeof d==="string"){if(c.querySelectorAll){d=c.querySelectorAll(d)}else{if(d.charAt(0)==="#"){d=c.getElementById(d.slice(1))}else{d=c.getElementsByTagName(d)}}}return new a(d)},hasClass:function(c){if(!this[0]){return false}return new RegExp("(^|\\s+)"+c+"(\\s+|$)").test(this[0].className)},addClass:function(e){var d=this.length,c;while(d){d-=1;c=this[d];if(!c.className){c.className=e;return this}if(this.hasClass(e)){return this}c.className+=" "+e}return this},removeClass:function(e){var f=new RegExp("(^|\\s+)"+e+"(\\s+|$)"),d=this.length,c;while(d){d-=1;c=this[d];c.className=c.className.replace(f," ")}return this},on:function(c,f){var g=c.split(/\s+/),e,d;while(g.length){c=g.shift();e=this.length;while(e){e-=1;d=this[e];if(d.addEventListener){d.addEventListener(c,f,false)}else{if(d.attachEvent){d.attachEvent("on"+c,f)}}}}return this},off:function(c,f){var g=c.split(/\s+/),e,d;while(g.length){c=g.shift();e=this.length;while(e){e-=1;d=this[e];if(d.removeEventListener){d.removeEventListener(c,f,false)}else{if(d.detachEvent){d.detachEvent("on"+c,f)}}}}return this},empty:function(){var d=this.length,c;while(d){d-=1;c=this[d];while(c.hasChildNodes()){c.removeChild(c.lastChild)}}return this},first:function(){return new a(this[0])}});if(typeof define==="function"&&define.amd){define(function(){return a})}else{window.blueimp=window.blueimp||{};window.blueimp.helper=a}}());