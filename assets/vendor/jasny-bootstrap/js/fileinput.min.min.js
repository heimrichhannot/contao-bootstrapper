+function(g){var h=window.navigator.appName=="Microsoft Internet Explorer";var f=function(a,b){this.$element=g(a);this.$input=this.$element.find(":file");if(this.$input.length===0){return}this.name=this.$input.attr("name")||b.name;this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]');if(this.$hidden.length===0){this.$hidden=g('<input type="hidden">').insertBefore(this.$input)}this.$preview=this.$element.find(".fileinput-preview");var c=this.$preview.css("height");if(this.$preview.css("display")!=="inline"&&c!=="0px"&&c!=="none"){this.$preview.css("line-height",c)}this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()};this.listen()};f.prototype.listen=function(){this.$input.on("change.bs.fileinput",g.proxy(this.change,this));g(this.$input[0].form).on("reset.bs.fileinput",g.proxy(this.reset,this));this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",g.proxy(this.trigger,this));this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",g.proxy(this.clear,this))},f.prototype.change=function(a){var c=a.target.files===undefined?(a.target&&a.target.value?[{name:a.target.value.replace(/^.+\\/,"")}]:[]):a.target.files;a.stopPropagation();if(c.length===0){this.clear();return}this.$hidden.val("");this.$hidden.attr("name","");this.$input.attr("name",this.name);var d=c[0];if(this.$preview.length>0&&(typeof d.type!=="undefined"?d.type.match(/^image\/(gif|png|jpeg)$/):d.name.match(/\.(gif|png|jpe?g)$/i))&&typeof FileReader!=="undefined"){var m=new FileReader();var b=this.$preview;var l=this.$element;m.onload=function(i){var j=g("<img>");j[0].src=i.target.result;c[0].result=i.target.result;l.find(".fileinput-filename").text(d.name);if(b.css("max-height")!="none"){j.css("max-height",parseInt(b.css("max-height"),10)-parseInt(b.css("padding-top"),10)-parseInt(b.css("padding-bottom"),10)-parseInt(b.css("border-top"),10)-parseInt(b.css("border-bottom"),10))}b.html(j);l.addClass("fileinput-exists").removeClass("fileinput-new");l.trigger("change.bs.fileinput",c)};m.readAsDataURL(d)}else{this.$element.find(".fileinput-filename").text(d.name);this.$preview.text(d.name);this.$element.addClass("fileinput-exists").removeClass("fileinput-new");this.$element.trigger("change.bs.fileinput")}},f.prototype.clear=function(a){if(a){a.preventDefault()}this.$hidden.val("");this.$hidden.attr("name",this.name);this.$input.attr("name","");if(h){var b=this.$input.clone(true);this.$input.after(b);this.$input.remove();this.$input=b}else{this.$input.val("")}this.$preview.html("");this.$element.find(".fileinput-filename").text("");this.$element.addClass("fileinput-new").removeClass("fileinput-exists");if(a!==undefined){this.$input.trigger("change");this.$element.trigger("clear.bs.fileinput")}},f.prototype.reset=function(){this.clear();this.$hidden.val(this.original.hiddenVal);this.$preview.html(this.original.preview);this.$element.find(".fileinput-filename").text("");if(this.original.exists){this.$element.addClass("fileinput-exists").removeClass("fileinput-new")}else{this.$element.addClass("fileinput-new").removeClass("fileinput-exists")}this.$element.trigger("reset.bs.fileinput")},f.prototype.trigger=function(a){this.$input.trigger("click");a.preventDefault()};var e=g.fn.fileinput;g.fn.fileinput=function(a){return this.each(function(){var b=g(this),c=b.data("bs.fileinput");if(!c){b.data("bs.fileinput",(c=new f(this,a)))}if(typeof a=="string"){c[a]()}})};g.fn.fileinput.Constructor=f;g.fn.fileinput.noConflict=function(){g.fn.fileinput=e;return this};g(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(a){var b=g(this);if(b.data("bs.fileinput")){return}b.fileinput(b.data());var c=g(a.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');if(c.length>0){a.preventDefault();c.trigger("click.bs.fileinput")}})}(window.jQuery);