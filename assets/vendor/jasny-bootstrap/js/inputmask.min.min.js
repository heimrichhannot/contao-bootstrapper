+function(i){var j=(window.orientation!==undefined);var k=navigator.userAgent.toLowerCase().indexOf("android")>-1;var l=window.navigator.appName=="Microsoft Internet Explorer";var g=function(a,b){if(k){return}this.$element=i(a);this.options=i.extend({},g.DEFAULTS,b);this.mask=String(this.options.mask);this.init();this.listen();this.checkVal()};g.DEFAULTS={mask:"",placeholder:"_",definitions:{"9":"[0-9]",a:"[A-Za-z]",w:"[A-Za-z0-9]","*":"."}};g.prototype.init=function(){var a=this.options.definitions;var b=this.mask.length;this.tests=[];this.partialPosition=this.mask.length;this.firstNonMaskPos=null;i.each(this.mask.split(""),i.proxy(function(d,c){if(c=="?"){b--;this.partialPosition=d}else{if(a[c]){this.tests.push(new RegExp(a[c]));if(this.firstNonMaskPos===null){this.firstNonMaskPos=this.tests.length-1}}else{this.tests.push(null)}}},this));this.buffer=i.map(this.mask.split(""),i.proxy(function(c,d){if(c!="?"){return a[c]?this.options.placeholder:c}},this));this.focusText=this.$element.val();this.$element.data("rawMaskFn",i.proxy(function(){return i.map(this.buffer,function(c,d){return this.tests[d]&&c!=this.options.placeholder?c:null}).join("")},this))};g.prototype.listen=function(){if(this.$element.attr("readonly")){return}var a=(l?"paste":"input")+".mask";this.$element.on("unmask.bs.inputmask",i.proxy(this.unmask,this)).on("focus.bs.inputmask",i.proxy(this.focusEvent,this)).on("blur.bs.inputmask",i.proxy(this.blurEvent,this)).on("keydown.bs.inputmask",i.proxy(this.keydownEvent,this)).on("keypress.bs.inputmask",i.proxy(this.keypressEvent,this)).on(a,i.proxy(this.pasteEvent,this))};g.prototype.caret=function(a,c){if(this.$element.length===0){return}if(typeof a=="number"){c=(typeof c=="number")?c:a;return this.$element.each(function(){if(this.setSelectionRange){this.setSelectionRange(a,c)}else{if(this.createTextRange){var d=this.createTextRange();d.collapse(true);d.moveEnd("character",c);d.moveStart("character",a);d.select()}}})}else{if(this.$element[0].setSelectionRange){a=this.$element[0].selectionStart;c=this.$element[0].selectionEnd}else{if(document.selection&&document.selection.createRange){var b=document.selection.createRange();a=0-b.duplicate().moveStart("character",-100000);c=a+b.text.length}}return{begin:a,end:c}}};g.prototype.seekNext=function(a){var b=this.mask.length;while(++a<=b&&!this.tests[a]){}return a};g.prototype.seekPrev=function(a){while(--a>=0&&!this.tests[a]){}return a};g.prototype.shiftL=function(a,d){var e=this.mask.length;if(a<0){return}for(var b=a,c=this.seekNext(d);b<e;b++){if(this.tests[b]){if(c<e&&this.tests[b].test(this.buffer[c])){this.buffer[b]=this.buffer[c];this.buffer[c]=this.options.placeholder}else{break}c=this.seekNext(c)}}this.writeBuffer();this.caret(Math.max(this.firstNonMaskPos,a))};g.prototype.shiftR=function(f){var e=this.mask.length;for(var b=f,a=this.options.placeholder;b<e;b++){if(this.tests[b]){var d=this.seekNext(b);var c=this.buffer[b];this.buffer[b]=a;if(d<e&&this.tests[d].test(c)){a=c}else{break}}}},g.prototype.unmask=function(){this.$element.unbind(".mask").removeData("inputmask")};g.prototype.focusEvent=function(){this.focusText=this.$element.val();var d=this.mask.length;var a=this.checkVal();this.writeBuffer();var b=this;var c=function(){if(a==d){b.caret(0,a)}else{b.caret(a)}};c();setTimeout(c,50)};g.prototype.blurEvent=function(){this.checkVal();if(this.$element.val()!==this.focusText){this.$element.trigger("change")}};g.prototype.keydownEvent=function(b){var d=b.which;if(d==8||d==46||(j&&d==127)){var a=this.caret(),c=a.begin,e=a.end;if(e-c===0){c=d!=46?this.seekPrev(c):(e=this.seekNext(c-1));e=d==46?this.seekNext(e):e}this.clearBuffer(c,e);this.shiftL(c,e-1);return false}else{if(d==27){this.$element.val(this.focusText);this.caret(0,this.checkVal());return false}}};g.prototype.keypressEvent=function(b){var f=this.mask.length;var e=b.which,o=this.caret();if(b.ctrlKey||b.altKey||b.metaKey||e<32){return true}else{if(e){if(o.end-o.begin!==0){this.clearBuffer(o.begin,o.end);this.shiftL(o.begin,o.end-1)}var c=this.seekNext(o.begin-1);if(c<f){var a=String.fromCharCode(e);if(this.tests[c].test(a)){this.shiftR(c);this.buffer[c]=a;this.writeBuffer();var d=this.seekNext(c);this.caret(d)}}return false}}};g.prototype.pasteEvent=function(){var a=this;setTimeout(function(){a.caret(a.checkVal(true))},0)};g.prototype.clearBuffer=function(a,c){var d=this.mask.length;for(var b=a;b<c&&b<d;b++){if(this.tests[b]){this.buffer[b]=this.options.placeholder}}};g.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join("")).val()};g.prototype.checkVal=function(d){var f=this.mask.length;var o=this.$element.val();var a=-1;for(var e=0,b=0;e<f;e++){if(this.tests[e]){this.buffer[e]=this.options.placeholder;while(b++<o.length){var c=o.charAt(b-1);if(this.tests[e].test(c)){this.buffer[e]=c;a=e;break}}if(b>o.length){break}}else{if(this.buffer[e]==o.charAt(b)&&e!=this.partialPosition){b++;a=e}}}if(!d&&a+1<this.partialPosition){this.$element.val("");this.clearBuffer(0,f)}else{if(d||a+1>=this.partialPosition){this.writeBuffer();if(!d){this.$element.val(this.$element.val().substring(0,a+1))}}}return(this.partialPosition?e:this.firstNonMaskPos)};var h=i.fn.inputmask;i.fn.inputmask=function(a){return this.each(function(){var b=i(this);var c=b.data("bs.inputmask");if(!c){b.data("bs.inputmask",(c=new g(this,a)))}})};i.fn.inputmask.Constructor=g;i.fn.inputmask.noConflict=function(){i.fn.inputmask=h;return this};i(document).on("focus.bs.inputmask.data-api","[data-mask]",function(a){var b=i(this);if(b.data("bs.inputmask")){return}b.inputmask(b.data())})}(window.jQuery);