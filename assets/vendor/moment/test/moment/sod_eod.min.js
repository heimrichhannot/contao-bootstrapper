var moment=require("../../moment");exports.endStartOf={setUp:function(a){moment.locale("en");moment.createFromInputFallback=function(){throw new Error("input not handled by moment")};a()},tearDown:function(a){moment.locale("en");a()},"start of year":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).startOf("year"),b=moment(new Date(2011,1,2,3,4,5,6)).startOf("years"),c=moment(new Date(2011,1,2,3,4,5,6)).startOf("y");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),0,"strip out the month");d.equal(a.date(),1,"strip out the day");d.equal(a.hours(),0,"strip out the hours");d.equal(a.minutes(),0,"strip out the minutes");d.equal(a.seconds(),0,"strip out the seconds");d.equal(a.milliseconds(),0,"strip out the milliseconds");d.done()},"end of year":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).endOf("year"),b=moment(new Date(2011,1,2,3,4,5,6)).endOf("years"),c=moment(new Date(2011,1,2,3,4,5,6)).endOf("y");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),11,"set the month");d.equal(a.date(),31,"set the day");d.equal(a.hours(),23,"set the hours");d.equal(a.minutes(),59,"set the minutes");d.equal(a.seconds(),59,"set the seconds");d.equal(a.milliseconds(),999,"set the seconds");d.done()},"start of quarter":function(d){d.expect(10);var a=moment(new Date(2011,4,2,3,4,5,6)).startOf("quarter"),b=moment(new Date(2011,4,2,3,4,5,6)).startOf("quarters"),c=moment(new Date(2011,4,2,3,4,5,6)).startOf("Q");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.quarter(),2,"keep the quarter");d.equal(a.month(),3,"strip out the month");d.equal(a.date(),1,"strip out the day");d.equal(a.hours(),0,"strip out the hours");d.equal(a.minutes(),0,"strip out the minutes");d.equal(a.seconds(),0,"strip out the seconds");d.equal(a.milliseconds(),0,"strip out the milliseconds");d.done()},"end of quarter":function(d){d.expect(10);var a=moment(new Date(2011,4,2,3,4,5,6)).endOf("quarter"),b=moment(new Date(2011,4,2,3,4,5,6)).endOf("quarters"),c=moment(new Date(2011,4,2,3,4,5,6)).endOf("Q");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.quarter(),2,"keep the quarter");d.equal(a.month(),5,"set the month");d.equal(a.date(),30,"set the day");d.equal(a.hours(),23,"set the hours");d.equal(a.minutes(),59,"set the minutes");d.equal(a.seconds(),59,"set the seconds");d.equal(a.milliseconds(),999,"set the seconds");d.done()},"start of month":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).startOf("month"),b=moment(new Date(2011,1,2,3,4,5,6)).startOf("months"),c=moment(new Date(2011,1,2,3,4,5,6)).startOf("M");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.date(),1,"strip out the day");d.equal(a.hours(),0,"strip out the hours");d.equal(a.minutes(),0,"strip out the minutes");d.equal(a.seconds(),0,"strip out the seconds");d.equal(a.milliseconds(),0,"strip out the milliseconds");d.done()},"end of month":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).endOf("month"),b=moment(new Date(2011,1,2,3,4,5,6)).endOf("months"),c=moment(new Date(2011,1,2,3,4,5,6)).endOf("M");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.date(),28,"set the day");d.equal(a.hours(),23,"set the hours");d.equal(a.minutes(),59,"set the minutes");d.equal(a.seconds(),59,"set the seconds");d.equal(a.milliseconds(),999,"set the seconds");d.done()},"start of week":function(d){d.expect(10);var a=moment(new Date(2011,1,2,3,4,5,6)).startOf("week"),b=moment(new Date(2011,1,2,3,4,5,6)).startOf("weeks"),c=moment(new Date(2011,1,2,3,4,5,6)).startOf("w");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),0,"rolls back to January");d.equal(a.day(),0,"set day of week");d.equal(a.date(),30,"set correct date");d.equal(a.hours(),0,"strip out the hours");d.equal(a.minutes(),0,"strip out the minutes");d.equal(a.seconds(),0,"strip out the seconds");d.equal(a.milliseconds(),0,"strip out the milliseconds");d.done()},"end of week":function(d){d.expect(10);var a=moment(new Date(2011,1,2,3,4,5,6)).endOf("week"),b=moment(new Date(2011,1,2,3,4,5,6)).endOf("weeks"),c=moment(new Date(2011,1,2,3,4,5,6)).endOf("weeks");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.day(),6,"set the day of the week");d.equal(a.date(),5,"set the day");d.equal(a.hours(),23,"set the hours");d.equal(a.minutes(),59,"set the minutes");d.equal(a.seconds(),59,"set the seconds");d.equal(a.milliseconds(),999,"set the seconds");d.done()},"start of iso-week":function(d){d.expect(10);var a=moment(new Date(2011,1,2,3,4,5,6)).startOf("isoWeek"),b=moment(new Date(2011,1,2,3,4,5,6)).startOf("isoWeeks"),c=moment(new Date(2011,1,2,3,4,5,6)).startOf("W");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),0,"rollback to January");d.equal(a.isoWeekday(),1,"set day of iso-week");d.equal(a.date(),31,"set correct date");d.equal(a.hours(),0,"strip out the hours");d.equal(a.minutes(),0,"strip out the minutes");d.equal(a.seconds(),0,"strip out the seconds");d.equal(a.milliseconds(),0,"strip out the milliseconds");d.done()},"end of iso-week":function(d){d.expect(10);var a=moment(new Date(2011,1,2,3,4,5,6)).endOf("isoWeek"),b=moment(new Date(2011,1,2,3,4,5,6)).endOf("isoWeeks"),c=moment(new Date(2011,1,2,3,4,5,6)).endOf("W");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.isoWeekday(),7,"set the day of the week");d.equal(a.date(),6,"set the day");d.equal(a.hours(),23,"set the hours");d.equal(a.minutes(),59,"set the minutes");d.equal(a.seconds(),59,"set the seconds");d.equal(a.milliseconds(),999,"set the seconds");d.done()},"start of day":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).startOf("day"),b=moment(new Date(2011,1,2,3,4,5,6)).startOf("days"),c=moment(new Date(2011,1,2,3,4,5,6)).startOf("d");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.date(),2,"keep the day");d.equal(a.hours(),0,"strip out the hours");d.equal(a.minutes(),0,"strip out the minutes");d.equal(a.seconds(),0,"strip out the seconds");d.equal(a.milliseconds(),0,"strip out the milliseconds");d.done()},"end of day":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).endOf("day"),b=moment(new Date(2011,1,2,3,4,5,6)).endOf("days"),c=moment(new Date(2011,1,2,3,4,5,6)).endOf("d");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.date(),2,"keep the day");d.equal(a.hours(),23,"set the hours");d.equal(a.minutes(),59,"set the minutes");d.equal(a.seconds(),59,"set the seconds");d.equal(a.milliseconds(),999,"set the seconds");d.done()},"start of hour":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).startOf("hour"),b=moment(new Date(2011,1,2,3,4,5,6)).startOf("hours"),c=moment(new Date(2011,1,2,3,4,5,6)).startOf("h");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.date(),2,"keep the day");d.equal(a.hours(),3,"keep the hours");d.equal(a.minutes(),0,"strip out the minutes");d.equal(a.seconds(),0,"strip out the seconds");d.equal(a.milliseconds(),0,"strip out the milliseconds");d.done()},"end of hour":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).endOf("hour"),b=moment(new Date(2011,1,2,3,4,5,6)).endOf("hours"),c=moment(new Date(2011,1,2,3,4,5,6)).endOf("h");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.date(),2,"keep the day");d.equal(a.hours(),3,"keep the hours");d.equal(a.minutes(),59,"set the minutes");d.equal(a.seconds(),59,"set the seconds");d.equal(a.milliseconds(),999,"set the seconds");d.done()},"start of minute":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).startOf("minute"),b=moment(new Date(2011,1,2,3,4,5,6)).startOf("minutes"),c=moment(new Date(2011,1,2,3,4,5,6)).startOf("m");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.date(),2,"keep the day");d.equal(a.hours(),3,"keep the hours");d.equal(a.minutes(),4,"keep the minutes");d.equal(a.seconds(),0,"strip out the seconds");d.equal(a.milliseconds(),0,"strip out the milliseconds");d.done()},"end of minute":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).endOf("minute"),b=moment(new Date(2011,1,2,3,4,5,6)).endOf("minutes"),c=moment(new Date(2011,1,2,3,4,5,6)).endOf("m");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.date(),2,"keep the day");d.equal(a.hours(),3,"keep the hours");d.equal(a.minutes(),4,"keep the minutes");d.equal(a.seconds(),59,"set the seconds");d.equal(a.milliseconds(),999,"set the seconds");d.done()},"start of second":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).startOf("second"),b=moment(new Date(2011,1,2,3,4,5,6)).startOf("seconds"),c=moment(new Date(2011,1,2,3,4,5,6)).startOf("s");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.date(),2,"keep the day");d.equal(a.hours(),3,"keep the hours");d.equal(a.minutes(),4,"keep the minutes");d.equal(a.seconds(),5,"keep the the seconds");d.equal(a.milliseconds(),0,"strip out the milliseconds");d.done()},"end of second":function(d){d.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)).endOf("second"),b=moment(new Date(2011,1,2,3,4,5,6)).endOf("seconds"),c=moment(new Date(2011,1,2,3,4,5,6)).endOf("s");d.equal(+a,+b,"Plural or singular should work");d.equal(+a,+c,"Full or abbreviated should work");d.equal(a.year(),2011,"keep the year");d.equal(a.month(),1,"keep the month");d.equal(a.date(),2,"keep the day");d.equal(a.hours(),3,"keep the hours");d.equal(a.minutes(),4,"keep the minutes");d.equal(a.seconds(),5,"keep the seconds");d.equal(a.milliseconds(),999,"set the seconds");d.done()},"startOf across DST +1":function(d){var b=moment.updateOffset,c=moment("2014-03-09T02:00:00-08:00").parseZone(),a;moment.updateOffset=function(e,f){if(e.isBefore(c)){e.zone(8,f)}else{e.zone(7,f)}};a=moment("2014-03-15T00:00:00-07:00").parseZone();a.startOf("M");d.equal(a.format(),"2014-03-01T00:00:00-08:00","startOf('month') across +1");a=moment("2014-03-09T09:00:00-07:00").parseZone();a.startOf("d");d.equal(a.format(),"2014-03-09T00:00:00-08:00","startOf('day') across +1");a=moment("2014-03-09T03:05:00-07:00").parseZone();a.startOf("h");d.equal(a.format(),"2014-03-09T03:00:00-07:00","startOf('hour') after +1");a=moment("2014-03-09T01:35:00-08:00").parseZone();a.startOf("h");d.equal(a.format(),"2014-03-09T01:00:00-08:00","startOf('hour') before +1");moment.updateOffset=b;d.done()},"startOf across DST -1":function(d){var b=moment.updateOffset,c=moment("2014-11-02T02:00:00-07:00").parseZone(),a;moment.updateOffset=function(e,f){if(e.isBefore(c)){e.zone(7,f)}else{e.zone(8,f)}};a=moment("2014-11-15T00:00:00-08:00").parseZone();a.startOf("M");d.equal(a.format(),"2014-11-01T00:00:00-07:00","startOf('month') across -1");a=moment("2014-11-02T09:00:00-08:00").parseZone();a.startOf("d");d.equal(a.format(),"2014-11-02T00:00:00-07:00","startOf('day') across -1");a=moment("2014-11-02T01:30:00-08:00").parseZone();a.startOf("h");d.equal(a.format(),"2014-11-02T01:00:00-08:00","startOf('hour') after +1");a=moment("2014-11-02T01:30:00-07:00").parseZone();a.startOf("h");d.equal(a.format(),"2014-11-02T01:00:00-07:00","startOf('hour') before +1");moment.updateOffset=b;d.done()}};