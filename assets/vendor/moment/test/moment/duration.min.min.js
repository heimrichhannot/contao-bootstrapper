var moment=require("../../moment");exports.duration={setUp:function(b){moment.createFromInputFallback=function(){throw new Error("input not handled by moment")};b()},"object instantiation":function(c){var d=moment.duration({years:2,months:3,weeks:2,days:1,hours:8,minutes:9,seconds:20,milliseconds:12});c.expect(8);c.equal(d.years(),2,"years");c.equal(d.months(),3,"months");c.equal(d.weeks(),2,"weeks");c.equal(d.days(),15,"days");c.equal(d.hours(),8,"hours");c.equal(d.minutes(),9,"minutes");c.equal(d.seconds(),20,"seconds");c.equal(d.milliseconds(),12,"milliseconds");c.done()},"object instantiation with strings":function(c){var d=moment.duration({years:"2",months:"3",weeks:"2",days:"1",hours:"8",minutes:"9",seconds:"20",milliseconds:"12"});c.expect(8);c.equal(d.years(),2,"years");c.equal(d.months(),3,"months");c.equal(d.weeks(),2,"weeks");c.equal(d.days(),15,"days");c.equal(d.hours(),8,"hours");c.equal(d.minutes(),9,"minutes");c.equal(d.seconds(),20,"seconds");c.equal(d.milliseconds(),12,"milliseconds");c.done()},"milliseconds instantiation":function(b){b.expect(1);b.equal(moment.duration(72).milliseconds(),72,"milliseconds");b.done()},"instantiation by type":function(b){b.expect(16);b.equal(moment.duration(1,"years").years(),1,"years");b.equal(moment.duration(1,"y").years(),1,"y");b.equal(moment.duration(2,"months").months(),2,"months");b.equal(moment.duration(2,"M").months(),2,"M");b.equal(moment.duration(3,"weeks").weeks(),3,"weeks");b.equal(moment.duration(3,"w").weeks(),3,"weeks");b.equal(moment.duration(4,"days").days(),4,"days");b.equal(moment.duration(4,"d").days(),4,"d");b.equal(moment.duration(5,"hours").hours(),5,"hours");b.equal(moment.duration(5,"h").hours(),5,"h");b.equal(moment.duration(6,"minutes").minutes(),6,"minutes");b.equal(moment.duration(6,"m").minutes(),6,"m");b.equal(moment.duration(7,"seconds").seconds(),7,"seconds");b.equal(moment.duration(7,"s").seconds(),7,"s");b.equal(moment.duration(8,"milliseconds").milliseconds(),8,"milliseconds");b.equal(moment.duration(8,"ms").milliseconds(),8,"ms");b.done()},shortcuts:function(b){b.expect(8);b.equal(moment.duration({y:1}).years(),1,"years = y");b.equal(moment.duration({M:2}).months(),2,"months = M");b.equal(moment.duration({w:3}).weeks(),3,"weeks = w");b.equal(moment.duration({d:4}).days(),4,"days = d");b.equal(moment.duration({h:5}).hours(),5,"hours = h");b.equal(moment.duration({m:6}).minutes(),6,"minutes = m");b.equal(moment.duration({s:7}).seconds(),7,"seconds = s");b.equal(moment.duration({ms:8}).milliseconds(),8,"milliseconds = ms");b.done()},"generic getter":function(b){b.expect(24);b.equal(moment.duration(1,"years").get("years"),1,"years");b.equal(moment.duration(1,"years").get("year"),1,"years = year");b.equal(moment.duration(1,"years").get("y"),1,"years = y");b.equal(moment.duration(2,"months").get("months"),2,"months");b.equal(moment.duration(2,"months").get("month"),2,"months = month");b.equal(moment.duration(2,"months").get("M"),2,"months = M");b.equal(moment.duration(3,"weeks").get("weeks"),3,"weeks");b.equal(moment.duration(3,"weeks").get("week"),3,"weeks = week");b.equal(moment.duration(3,"weeks").get("w"),3,"weeks = w");b.equal(moment.duration(4,"days").get("days"),4,"days");b.equal(moment.duration(4,"days").get("day"),4,"days = day");b.equal(moment.duration(4,"days").get("d"),4,"days = d");b.equal(moment.duration(5,"hours").get("hours"),5,"hours");b.equal(moment.duration(5,"hours").get("hour"),5,"hours = hour");b.equal(moment.duration(5,"hours").get("h"),5,"hours = h");b.equal(moment.duration(6,"minutes").get("minutes"),6,"minutes");b.equal(moment.duration(6,"minutes").get("minute"),6,"minutes = minute");b.equal(moment.duration(6,"minutes").get("m"),6,"minutes = m");b.equal(moment.duration(7,"seconds").get("seconds"),7,"seconds");b.equal(moment.duration(7,"seconds").get("second"),7,"seconds = second");b.equal(moment.duration(7,"seconds").get("s"),7,"seconds = s");b.equal(moment.duration(8,"milliseconds").get("milliseconds"),8,"milliseconds");b.equal(moment.duration(8,"milliseconds").get("millisecond"),8,"milliseconds = millisecond");b.equal(moment.duration(8,"milliseconds").get("ms"),8,"milliseconds = ms");b.done()},"instantiation from another duration":function(h){var i=moment.duration(1234),f=moment.duration(60*60*24*360*1000),j=moment.duration({years:2,months:3,weeks:4,days:1,hours:8,minutes:9,seconds:20,milliseconds:12}),g=moment.duration(1,"day").add(moment.duration(1,"day"));h.expect(4);h.deepEqual(moment.duration(i),i,"simple clones are equal");h.deepEqual(moment.duration(f),f,"lengthy clones are equal");h.deepEqual(moment.duration(j),j,"complicated clones are equal");h.deepEqual(moment.duration(g),g,"cloning modified duration works");h.done()},"instantiation from 24-hour time zero":function(b){b.expect(6);b.equal(moment.duration("00:00").years(),0,"0 years");b.equal(moment.duration("00:00").days(),0,"0 days");b.equal(moment.duration("00:00").hours(),0,"0 hours");b.equal(moment.duration("00:00").minutes(),0,"0 minutes");b.equal(moment.duration("00:00").seconds(),0,"0 seconds");b.equal(moment.duration("00:00").milliseconds(),0,"0 milliseconds");b.done()},"instantiation from 24-hour time <24 hours":function(b){b.expect(6);b.equal(moment.duration("06:45").years(),0,"0 years");b.equal(moment.duration("06:45").days(),0,"0 days");b.equal(moment.duration("06:45").hours(),6,"6 hours");b.equal(moment.duration("06:45").minutes(),45,"45 minutes");b.equal(moment.duration("06:45").seconds(),0,"0 seconds");b.equal(moment.duration("06:45").milliseconds(),0,"0 milliseconds");b.done()},"instantiation from 24-hour time >24 hours":function(b){b.expect(6);b.equal(moment.duration("26:45").years(),0,"0 years");b.equal(moment.duration("26:45").days(),1,"0 days");b.equal(moment.duration("26:45").hours(),2,"2 hours");b.equal(moment.duration("26:45").minutes(),45,"45 minutes");b.equal(moment.duration("26:45").seconds(),0,"0 seconds");b.equal(moment.duration("26:45").milliseconds(),0,"0 milliseconds");b.done()},"instatiation from serialized C# TimeSpan zero":function(b){b.expect(6);b.equal(moment.duration("00:00:00").years(),0,"0 years");b.equal(moment.duration("00:00:00").days(),0,"0 days");b.equal(moment.duration("00:00:00").hours(),0,"0 hours");b.equal(moment.duration("00:00:00").minutes(),0,"0 minutes");b.equal(moment.duration("00:00:00").seconds(),0,"0 seconds");b.equal(moment.duration("00:00:00").milliseconds(),0,"0 milliseconds");b.done()},"instatiation from serialized C# TimeSpan with days":function(b){b.expect(6);b.equal(moment.duration("1.02:03:04.9999999").years(),0,"0 years");b.equal(moment.duration("1.02:03:04.9999999").days(),1,"1 day");b.equal(moment.duration("1.02:03:04.9999999").hours(),2,"2 hours");b.equal(moment.duration("1.02:03:04.9999999").minutes(),3,"3 minutes");b.equal(moment.duration("1.02:03:04.9999999").seconds(),4,"4 seconds");b.equal(moment.duration("1.02:03:04.9999999").milliseconds(),999,"999 milliseconds");b.done()},"instatiation from serialized C# TimeSpan without days":function(b){b.expect(10);b.equal(moment.duration("01:02:03.9999999").years(),0,"0 years");b.equal(moment.duration("01:02:03.9999999").days(),0,"0 days");b.equal(moment.duration("01:02:03.9999999").hours(),1,"1 hour");b.equal(moment.duration("01:02:03.9999999").minutes(),2,"2 minutes");b.equal(moment.duration("01:02:03.9999999").seconds(),3,"3 seconds");b.equal(moment.duration("01:02:03.9999999").milliseconds(),999,"999 milliseconds");b.equal(moment.duration("23:59:59.9999999").days(),0,"0 days");b.equal(moment.duration("23:59:59.9999999").hours(),23,"23 hours");b.equal(moment.duration("500:59:59.9999999").days(),20,"500 hours overflows to 20 days");b.equal(moment.duration("500:59:59.9999999").hours(),20,"500 hours overflows to 20 hours");b.done()},"instatiation from serialized C# TimeSpan without days or milliseconds":function(b){b.expect(6);b.equal(moment.duration("01:02:03").years(),0,"0 years");b.equal(moment.duration("01:02:03").days(),0,"0 days");b.equal(moment.duration("01:02:03").hours(),1,"1 hour");b.equal(moment.duration("01:02:03").minutes(),2,"2 minutes");b.equal(moment.duration("01:02:03").seconds(),3,"3 seconds");b.equal(moment.duration("01:02:03").milliseconds(),0,"0 milliseconds");b.done()},"instatiation from serialized C# TimeSpan without milliseconds":function(b){b.expect(6);b.equal(moment.duration("1.02:03:04").years(),0,"0 years");b.equal(moment.duration("1.02:03:04").days(),1,"1 day");b.equal(moment.duration("1.02:03:04").hours(),2,"2 hours");b.equal(moment.duration("1.02:03:04").minutes(),3,"3 minutes");b.equal(moment.duration("1.02:03:04").seconds(),4,"4 seconds");b.equal(moment.duration("1.02:03:04").milliseconds(),0,"0 milliseconds");b.done()},"instatiation from serialized C# TimeSpan maxValue":function(c){var d=moment.duration("10675199.02:48:05.4775807");c.equal(d.years(),29227,"29227 years");c.equal(d.months(),8,"8 months");c.equal(d.days(),17,"17 day");c.equal(d.hours(),2,"2 hours");c.equal(d.minutes(),48,"48 minutes");c.equal(d.seconds(),5,"5 seconds");c.equal(d.milliseconds(),477,"477 milliseconds");c.done()},"instatiation from serialized C# TimeSpan minValue":function(c){var d=moment.duration("-10675199.02:48:05.4775808");c.equal(d.years(),-29227,"29653 years");c.equal(d.months(),-8,"8 day");c.equal(d.days(),-17,"17 day");c.equal(d.hours(),-2,"2 hours");c.equal(d.minutes(),-48,"48 minutes");c.equal(d.seconds(),-5,"5 seconds");c.equal(d.milliseconds(),-477,"477 milliseconds");c.done()},"instantiation from ISO 8601 duration":function(b){b.expect(7);b.equal(moment.duration("P1Y2M3DT4H5M6S").asSeconds(),moment.duration({y:1,M:2,d:3,h:4,m:5,s:6}).asSeconds(),"all fields");b.equal(moment.duration("P1M").asSeconds(),moment.duration({M:1}).asSeconds(),"single month field");b.equal(moment.duration("PT1M").asSeconds(),moment.duration({m:1}).asSeconds(),"single minute field");b.equal(moment.duration("P1MT2H").asSeconds(),moment.duration({M:1,h:2}).asSeconds(),"random fields missing");b.equal(moment.duration("-P60D").asSeconds(),moment.duration({d:-60}).asSeconds(),"negative days");b.equal(moment.duration("PT0.5S").asSeconds(),moment.duration({s:0.5}).asSeconds(),"fractional seconds");b.equal(moment.duration("PT0,5S").asSeconds(),moment.duration({s:0.5}).asSeconds(),"fractional seconds (comma)");b.done()},"serialization to ISO 8601 duration strings":function(b){b.expect(6);b.equal(moment.duration({y:1,M:2,d:3,h:4,m:5,s:6}).toISOString(),"P1Y2M3DT4H5M6S","all fields");b.equal(moment.duration({M:-1}).toISOString(),"-P1M","one month ago");b.equal(moment.duration({m:-1}).toISOString(),"-PT1M","one minute ago");b.equal(moment.duration({s:-0.5}).toISOString(),"-PT0.5S","one half second ago");b.equal(moment.duration({y:-0.5,M:1}).toISOString(),"-P5M","a month after half a year ago");b.equal(moment.duration({}).toISOString(),"P0D","zero duration");b.done()},"toString acts as toISOString":function(b){b.expect(6);b.equal(moment.duration({y:1,M:2,d:3,h:4,m:5,s:6}).toString(),"P1Y2M3DT4H5M6S","all fields");b.equal(moment.duration({M:-1}).toString(),"-P1M","one month ago");b.equal(moment.duration({m:-1}).toString(),"-PT1M","one minute ago");b.equal(moment.duration({s:-0.5}).toString(),"-PT0.5S","one half second ago");b.equal(moment.duration({y:-0.5,M:1}).toString(),"-P5M","a month after half a year ago");b.equal(moment.duration({}).toString(),"P0D","zero duration");b.done()},"toIsoString deprecation":function(b){b.equal(moment.duration({}).toIsoString(),moment.duration({}).toISOString(),"toIsoString delegates to toISOString");b.done()},"`isodate` (python) test cases":function(b){b.expect(24);b.equal(moment.duration("P18Y9M4DT11H9M8S").asSeconds(),moment.duration({y:18,M:9,d:4,h:11,m:9,s:8}).asSeconds(),"python isodate 1");b.equal(moment.duration("P2W").asSeconds(),moment.duration({w:2}).asSeconds(),"python isodate 2");b.equal(moment.duration("P3Y6M4DT12H30M5S").asSeconds(),moment.duration({y:3,M:6,d:4,h:12,m:30,s:5}).asSeconds(),"python isodate 3");b.equal(moment.duration("P23DT23H").asSeconds(),moment.duration({d:23,h:23}).asSeconds(),"python isodate 4");b.equal(moment.duration("P4Y").asSeconds(),moment.duration({y:4}).asSeconds(),"python isodate 5");b.equal(moment.duration("P1M").asSeconds(),moment.duration({M:1}).asSeconds(),"python isodate 6");b.equal(moment.duration("PT1M").asSeconds(),moment.duration({m:1}).asSeconds(),"python isodate 7");b.equal(moment.duration("P0.5Y").asSeconds(),moment.duration({y:0.5}).asSeconds(),"python isodate 8");b.equal(moment.duration("PT36H").asSeconds(),moment.duration({h:36}).asSeconds(),"python isodate 9");b.equal(moment.duration("P1DT12H").asSeconds(),moment.duration({d:1,h:12}).asSeconds(),"python isodate 10");b.equal(moment.duration("-P2W").asSeconds(),moment.duration({w:-2}).asSeconds(),"python isodate 11");b.equal(moment.duration("-P2.2W").asSeconds(),moment.duration({w:-2.2}).asSeconds(),"python isodate 12");b.equal(moment.duration("P1DT2H3M4S").asSeconds(),moment.duration({d:1,h:2,m:3,s:4}).asSeconds(),"python isodate 13");b.equal(moment.duration("P1DT2H3M").asSeconds(),moment.duration({d:1,h:2,m:3}).asSeconds(),"python isodate 14");b.equal(moment.duration("P1DT2H").asSeconds(),moment.duration({d:1,h:2}).asSeconds(),"python isodate 15");b.equal(moment.duration("PT2H").asSeconds(),moment.duration({h:2}).asSeconds(),"python isodate 16");b.equal(moment.duration("PT2.3H").asSeconds(),moment.duration({h:2.3}).asSeconds(),"python isodate 17");b.equal(moment.duration("PT2H3M4S").asSeconds(),moment.duration({h:2,m:3,s:4}).asSeconds(),"python isodate 18");b.equal(moment.duration("PT3M4S").asSeconds(),moment.duration({m:3,s:4}).asSeconds(),"python isodate 19");b.equal(moment.duration("PT22S").asSeconds(),moment.duration({s:22}).asSeconds(),"python isodate 20");b.equal(moment.duration("PT22.22S").asSeconds(),moment.duration({s:22.22}).asSeconds(),"python isodate 21");b.equal(moment.duration("-P2Y").asSeconds(),moment.duration({y:-2}).asSeconds(),"python isodate 22");b.equal(moment.duration("-P3Y6M4DT12H30M5S").asSeconds(),moment.duration({y:-3,M:-6,d:-4,h:-12,m:-30,s:-5}).asSeconds(),"python isodate 23");b.equal(moment.duration("-P1DT2H3M4S").asSeconds(),moment.duration({d:-1,h:-2,m:-3,s:-4}).asSeconds(),"python isodate 24");b.done()},"ISO 8601 misuse cases":function(b){b.expect(8);b.equal(moment.duration("P").asSeconds(),0,"lonely P");b.equal(moment.duration("PT").asSeconds(),0,"just P and T");b.equal(moment.duration("P1H").asSeconds(),0,"missing T");b.equal(moment.duration("P1D1Y").asSeconds(),0,"out of order");b.equal(moment.duration("PT.5S").asSeconds(),0.5,"accept no leading zero for decimal");b.equal(moment.duration("PT1,S").asSeconds(),1,"accept trailing decimal separator");b.equal(moment.duration("PT1M0,,5S").asSeconds(),60,"extra decimal separators are ignored as 0");b.equal(moment.duration("P-1DS").asSeconds(),0,"wrong position of negative");b.done()},humanize:function(b){b.expect(32);moment.locale("en");b.equal(moment.duration({seconds:44}).humanize(),"a few seconds","44 seconds = a few seconds");b.equal(moment.duration({seconds:45}).humanize(),"a minute","45 seconds = a minute");b.equal(moment.duration({seconds:89}).humanize(),"a minute","89 seconds = a minute");b.equal(moment.duration({seconds:90}).humanize(),"2 minutes","90 seconds = 2 minutes");b.equal(moment.duration({minutes:44}).humanize(),"44 minutes","44 minutes = 44 minutes");b.equal(moment.duration({minutes:45}).humanize(),"an hour","45 minutes = an hour");b.equal(moment.duration({minutes:89}).humanize(),"an hour","89 minutes = an hour");b.equal(moment.duration({minutes:90}).humanize(),"2 hours","90 minutes = 2 hours");b.equal(moment.duration({hours:5}).humanize(),"5 hours","5 hours = 5 hours");b.equal(moment.duration({hours:21}).humanize(),"21 hours","21 hours = 21 hours");b.equal(moment.duration({hours:22}).humanize(),"a day","22 hours = a day");b.equal(moment.duration({hours:35}).humanize(),"a day","35 hours = a day");b.equal(moment.duration({hours:36}).humanize(),"2 days","36 hours = 2 days");b.equal(moment.duration({days:1}).humanize(),"a day","1 day = a day");b.equal(moment.duration({days:5}).humanize(),"5 days","5 days = 5 days");b.equal(moment.duration({weeks:1}).humanize(),"7 days","1 week = 7 days");b.equal(moment.duration({days:25}).humanize(),"25 days","25 days = 25 days");b.equal(moment.duration({days:26}).humanize(),"a month","26 days = a month");b.equal(moment.duration({days:30}).humanize(),"a month","30 days = a month");b.equal(moment.duration({days:45}).humanize(),"a month","45 days = a month");b.equal(moment.duration({days:46}).humanize(),"2 months","46 days = 2 months");b.equal(moment.duration({days:74}).humanize(),"2 months","74 days = 2 months");b.equal(moment.duration({days:77}).humanize(),"3 months","77 days = 3 months");b.equal(moment.duration({months:1}).humanize(),"a month","1 month = a month");b.equal(moment.duration({months:5}).humanize(),"5 months","5 months = 5 months");b.equal(moment.duration({days:344}).humanize(),"a year","344 days = a year");b.equal(moment.duration({days:345}).humanize(),"a year","345 days = a year");b.equal(moment.duration({days:547}).humanize(),"a year","547 days = a year");b.equal(moment.duration({days:548}).humanize(),"2 years","548 days = 2 years");b.equal(moment.duration({years:1}).humanize(),"a year","1 year = a year");b.equal(moment.duration({years:5}).humanize(),"5 years","5 years = 5 years");b.equal(moment.duration(7200000).humanize(),"2 hours","7200000 = 2 minutes");b.done()},"humanize duration with suffix":function(b){b.expect(2);moment.locale("en");b.equal(moment.duration({seconds:44}).humanize(true),"in a few seconds","44 seconds = a few seconds");b.equal(moment.duration({seconds:-44}).humanize(true),"a few seconds ago","44 seconds = a few seconds");b.done()},"bubble value up":function(b){b.expect(5);b.equal(moment.duration({milliseconds:61001}).milliseconds(),1,"61001 milliseconds has 1 millisecond left over");b.equal(moment.duration({milliseconds:61001}).seconds(),1,"61001 milliseconds has 1 second left over");b.equal(moment.duration({milliseconds:61001}).minutes(),1,"61001 milliseconds has 1 minute left over");b.equal(moment.duration({minutes:350}).minutes(),50,"350 minutes has 50 minutes left over");b.equal(moment.duration({minutes:350}).hours(),5,"350 minutes has 5 hours left over");b.done()},clipping:function(b){b.expect(18);b.equal(moment.duration({months:11}).months(),11,"11 months is 11 months");b.equal(moment.duration({months:11}).years(),0,"11 months makes no year");b.equal(moment.duration({months:12}).months(),0,"12 months is 0 months left over");b.equal(moment.duration({months:12}).years(),1,"12 months makes 1 year");b.equal(moment.duration({months:13}).months(),1,"13 months is 1 month left over");b.equal(moment.duration({months:13}).years(),1,"13 months makes 1 year");b.equal(moment.duration({days:29}).days(),29,"29 days is 29 days");b.equal(moment.duration({days:29}).months(),0,"29 days makes no month");b.equal(moment.duration({days:30}).days(),0,"30 days is 0 days left over");b.equal(moment.duration({days:30}).months(),1,"30 days is a month");b.equal(moment.duration({days:31}).days(),1,"31 days is 1 day left over");b.equal(moment.duration({days:31}).months(),1,"31 days is a month");b.equal(moment.duration({hours:23}).hours(),23,"23 hours is 23 hours");b.equal(moment.duration({hours:23}).days(),0,"23 hours makes no day");b.equal(moment.duration({hours:24}).hours(),0,"24 hours is 0 hours left over");b.equal(moment.duration({hours:24}).days(),1,"24 hours makes 1 day");b.equal(moment.duration({hours:25}).hours(),1,"25 hours is 1 hour left over");b.equal(moment.duration({hours:25}).days(),1,"25 hours makes 1 day");b.done()},"effective equivalency":function(b){b.expect(7);b.deepEqual(moment.duration({seconds:1})._data,moment.duration({milliseconds:1000})._data,"1 second is the same as 1000 milliseconds");b.deepEqual(moment.duration({seconds:60})._data,moment.duration({minutes:1})._data,"1 minute is the same as 60 seconds");b.deepEqual(moment.duration({minutes:60})._data,moment.duration({hours:1})._data,"1 hour is the same as 60 minutes");b.deepEqual(moment.duration({hours:24})._data,moment.duration({days:1})._data,"1 day is the same as 24 hours");b.deepEqual(moment.duration({days:7})._data,moment.duration({weeks:1})._data,"1 week is the same as 7 days");b.deepEqual(moment.duration({days:30})._data,moment.duration({months:1})._data,"1 month is the same as 30 days");b.deepEqual(moment.duration({months:12})._data,moment.duration({years:1})._data,"1 years is the same as 12 months");b.done()},asGetters:function(c){var d=moment.duration({years:2,months:3,weeks:2,days:1,hours:8,minutes:9,seconds:20,milliseconds:12});c.expect(8);c.equal(d.asYears().toFixed(2),"2.29","years");c.equal(d.asMonths().toFixed(2),"27.50","months");c.equal(d.asWeeks().toFixed(2),"119.59","weeks");c.equal(d.asDays().toFixed(2),"837.14","days");c.equal(d.asHours().toFixed(2),"20091.25","hours");c.equal(d.asMinutes().toFixed(2),"1205475.03","minutes");c.equal(d.asSeconds().toFixed(2),"72328502.01","seconds");c.equal(d.asMilliseconds(),72328502012,"milliseconds");c.done()},"generic as getter":function(c){var d=moment.duration({years:2,months:3,weeks:2,days:1,hours:8,minutes:9,seconds:20,milliseconds:12});c.expect(24);c.equal(d.as("years").toFixed(2),"2.29","years");c.equal(d.as("year").toFixed(2),"2.29","years = year");c.equal(d.as("y").toFixed(2),"2.29","years = y");c.equal(d.as("months").toFixed(2),"27.50","months");c.equal(d.as("month").toFixed(2),"27.50","months = month");c.equal(d.as("M").toFixed(2),"27.50","months = M");c.equal(d.as("weeks").toFixed(2),"119.59","weeks");c.equal(d.as("week").toFixed(2),"119.59","weeks = week");c.equal(d.as("w").toFixed(2),"119.59","weeks = w");c.equal(d.as("days").toFixed(2),"837.14","days");c.equal(d.as("day").toFixed(2),"837.14","days = day");c.equal(d.as("d").toFixed(2),"837.14","days = d");c.equal(d.as("hours").toFixed(2),"20091.25","hours");c.equal(d.as("hour").toFixed(2),"20091.25","hours = hour");c.equal(d.as("h").toFixed(2),"20091.25","hours = h");c.equal(d.as("minutes").toFixed(2),"1205475.03","minutes");c.equal(d.as("minute").toFixed(2),"1205475.03","minutes = minute");c.equal(d.as("m").toFixed(2),"1205475.03","minutes = m");c.equal(d.as("seconds").toFixed(2),"72328502.01","seconds");c.equal(d.as("second").toFixed(2),"72328502.01","seconds = second");c.equal(d.as("s").toFixed(2),"72328502.01","seconds = s");c.equal(d.as("milliseconds"),72328502012,"milliseconds");c.equal(d.as("millisecond"),72328502012,"milliseconds = millisecond");c.equal(d.as("ms"),72328502012,"milliseconds = ms");c.done()},isDuration:function(b){b.expect(3);b.ok(moment.isDuration(moment.duration(12345678)),"correctly says true");b.ok(!moment.isDuration(moment()),"moment object is not a duration");b.ok(!moment.isDuration({milliseconds:1}),"plain object is not a duration");b.done()},add:function(c){c.expect(4);var d=moment.duration({months:4,weeks:3,days:2});c.equal(d.add(1,"month")._months,5,"Add months");c.equal(d.add(5,"days")._days,28,"Add days");c.equal(d.add(10000)._milliseconds,10000,"Add milliseconds");c.equal(d.add({h:23,m:59})._milliseconds,23*60*60*1000+59*60*1000+10000,"Add hour:minute");c.done()},"add and bubble":function(b){b.expect(4);b.equal(moment.duration(1,"second").add(1000,"milliseconds").seconds(),2,"Adding milliseconds should bubble up to seconds");b.equal(moment.duration(1,"minute").add(60,"second").minutes(),2,"Adding seconds should bubble up to minutes");b.equal(moment.duration(1,"hour").add(60,"minutes").hours(),2,"Adding minutes should bubble up to hours");b.equal(moment.duration(1,"day").add(24,"hours").days(),2,"Adding hours should bubble up to days");b.done()},"subtract and bubble":function(b){b.expect(4);b.equal(moment.duration(2,"second").subtract(1000,"milliseconds").seconds(),1,"Subtracting milliseconds should bubble up to seconds");b.equal(moment.duration(2,"minute").subtract(60,"second").minutes(),1,"Subtracting seconds should bubble up to minutes");b.equal(moment.duration(2,"hour").subtract(60,"minutes").hours(),1,"Subtracting minutes should bubble up to hours");b.equal(moment.duration(2,"day").subtract(24,"hours").days(),1,"Subtracting hours should bubble up to days");b.done()},subtract:function(c){c.expect(4);var d=moment.duration({months:2,weeks:2,days:0,hours:5});c.equal(d.subtract(1,"months")._months,1,"Subtract months");c.equal(d.subtract(14,"days")._days,0,"Subtract days");c.equal(d.subtract(10000)._milliseconds,5*60*60*1000-10000,"Subtract milliseconds");c.equal(d.subtract({h:1,m:59})._milliseconds,3*60*60*1000+1*60*1000-10000,"Subtract hour:minute");c.done()}};