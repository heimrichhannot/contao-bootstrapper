var moment=require("../../moment");exports.isSame={setUp:function(b){moment.createFromInputFallback=function(){throw new Error("input not handled by moment")};b()},"is same without units":function(f){f.expect(17);var e=moment(new Date(2011,3,2,3,4,5,10)),d=moment(e);f.equal(e.isSame(moment(new Date(2012,3,2,3,5,5,10))),false,"year is later");f.equal(e.isSame(moment(new Date(2010,3,2,3,3,5,10))),false,"year is earlier");f.equal(e.isSame(moment(new Date(2011,4,2,3,4,5,10))),false,"month is later");f.equal(e.isSame(moment(new Date(2011,2,2,3,4,5,10))),false,"month is earlier");f.equal(e.isSame(moment(new Date(2011,3,3,3,4,5,10))),false,"day is later");f.equal(e.isSame(moment(new Date(2011,3,1,3,4,5,10))),false,"day is earlier");f.equal(e.isSame(moment(new Date(2011,3,2,4,4,5,10))),false,"hour is later");f.equal(e.isSame(moment(new Date(2011,3,2,2,4,5,10))),false,"hour is earlier");f.equal(e.isSame(moment(new Date(2011,3,2,3,5,5,10))),false,"minute is later");f.equal(e.isSame(moment(new Date(2011,3,2,3,3,5,10))),false,"minute is earlier");f.equal(e.isSame(moment(new Date(2011,3,2,3,4,6,10))),false,"second is later");f.equal(e.isSame(moment(new Date(2011,3,2,3,4,4,11))),false,"second is earlier");f.equal(e.isSame(moment(new Date(2011,3,2,3,4,5,10))),true,"millisecond match");f.equal(e.isSame(moment(new Date(2011,3,2,3,4,5,11))),false,"millisecond is later");f.equal(e.isSame(moment(new Date(2011,3,2,3,4,5,9))),false,"millisecond is earlier");f.equal(e.isSame(e),true,"moments are the same as themselves");f.equal(+e,+d,"isSame second should not change moment");f.done()},"is same year":function(f){f.expect(9);var e=moment(new Date(2011,1,2,3,4,5,6)),d=moment(e);f.equal(e.isSame(moment(new Date(2011,5,6,7,8,9,10)),"year"),true,"year match");f.equal(e.isSame(moment(new Date(2011,5,6,7,8,9,10)),"years"),true,"plural should work");f.equal(e.isSame(moment(new Date(2012,5,6,7,8,9,10)),"year"),false,"year mismatch");f.equal(e.isSame(moment(new Date(2011,0,1,0,0,0,0)),"year"),true,"exact start of year");f.equal(e.isSame(moment(new Date(2011,11,31,23,59,59,999)),"year"),true,"exact end of year");f.equal(e.isSame(moment(new Date(2012,0,1,0,0,0,0)),"year"),false,"start of next year");f.equal(e.isSame(moment(new Date(2010,11,31,23,59,59,999)),"year"),false,"end of previous year");f.equal(e.isSame(e,"year"),true,"same moments are in the same year");f.equal(+e,+d,"isSame year should not change moment");f.done()},"is same month":function(f){f.expect(10);var e=moment(new Date(2011,2,3,4,5,6,7)),d=moment(e);f.equal(e.isSame(moment(new Date(2011,2,6,7,8,9,10)),"month"),true,"month match");f.equal(e.isSame(moment(new Date(2011,2,6,7,8,9,10)),"months"),true,"plural should work");f.equal(e.isSame(moment(new Date(2012,2,6,7,8,9,10)),"month"),false,"year mismatch");f.equal(e.isSame(moment(new Date(2011,5,6,7,8,9,10)),"month"),false,"month mismatch");f.equal(e.isSame(moment(new Date(2011,2,1,0,0,0,0)),"month"),true,"exact start of month");f.equal(e.isSame(moment(new Date(2011,2,31,23,59,59,999)),"month"),true,"exact end of month");f.equal(e.isSame(moment(new Date(2011,3,1,0,0,0,0)),"month"),false,"start of next month");f.equal(e.isSame(moment(new Date(2011,1,27,23,59,59,999)),"month"),false,"end of previous month");f.equal(e.isSame(e,"month"),true,"same moments are in the same month");f.equal(+e,+d,"isSame month should not change moment");f.done()},"is same day":function(f){f.expect(11);var e=moment(new Date(2011,1,2,3,4,5,6)),d=moment(e);f.equal(e.isSame(moment(new Date(2011,1,2,7,8,9,10)),"day"),true,"day match");f.equal(e.isSame(moment(new Date(2011,1,2,7,8,9,10)),"days"),true,"plural should work");f.equal(e.isSame(moment(new Date(2012,1,2,7,8,9,10)),"day"),false,"year mismatch");f.equal(e.isSame(moment(new Date(2011,2,2,7,8,9,10)),"day"),false,"month mismatch");f.equal(e.isSame(moment(new Date(2011,1,3,7,8,9,10)),"day"),false,"day mismatch");f.equal(e.isSame(moment(new Date(2011,1,2,0,0,0,0)),"day"),true,"exact start of day");f.equal(e.isSame(moment(new Date(2011,1,2,23,59,59,999)),"day"),true,"exact end of day");f.equal(e.isSame(moment(new Date(2011,1,3,0,0,0,0)),"day"),false,"start of next day");f.equal(e.isSame(moment(new Date(2011,1,1,23,59,59,999)),"day"),false,"end of previous day");f.equal(e.isSame(e,"day"),true,"same moments are in the same day");f.equal(+e,+d,"isSame day should not change moment");f.done()},"is same hour":function(f){f.expect(12);var e=moment(new Date(2011,1,2,3,4,5,6)),d=moment(e);f.equal(e.isSame(moment(new Date(2011,1,2,3,8,9,10)),"hour"),true,"hour match");f.equal(e.isSame(moment(new Date(2011,1,2,3,8,9,10)),"hours"),true,"plural should work");f.equal(e.isSame(moment(new Date(2012,1,2,3,8,9,10)),"hour"),false,"year mismatch");f.equal(e.isSame(moment(new Date(2011,2,2,3,8,9,10)),"hour"),false,"month mismatch");f.equal(e.isSame(moment(new Date(2011,1,3,3,8,9,10)),"hour"),false,"day mismatch");f.equal(e.isSame(moment(new Date(2011,1,2,4,8,9,10)),"hour"),false,"hour mismatch");f.equal(e.isSame(moment(new Date(2011,1,2,3,0,0,0)),"hour"),true,"exact start of hour");f.equal(e.isSame(moment(new Date(2011,1,2,3,59,59,999)),"hour"),true,"exact end of hour");f.equal(e.isSame(moment(new Date(2011,1,2,4,0,0,0)),"hour"),false,"start of next hour");f.equal(e.isSame(moment(new Date(2011,1,2,2,59,59,999)),"hour"),false,"end of previous hour");f.equal(e.isSame(e,"hour"),true,"same moments are in the same hour");f.equal(+e,+d,"isSame hour should not change moment");f.done()},"is same minute":function(f){f.expect(13);var e=moment(new Date(2011,1,2,3,4,5,6)),d=moment(e);f.equal(e.isSame(moment(new Date(2011,1,2,3,4,9,10)),"minute"),true,"minute match");f.equal(e.isSame(moment(new Date(2011,1,2,3,4,9,10)),"minutes"),true,"plural should work");f.equal(e.isSame(moment(new Date(2012,1,2,3,4,9,10)),"minute"),false,"year mismatch");f.equal(e.isSame(moment(new Date(2011,2,2,3,4,9,10)),"minute"),false,"month mismatch");f.equal(e.isSame(moment(new Date(2011,1,3,3,4,9,10)),"minute"),false,"day mismatch");f.equal(e.isSame(moment(new Date(2011,1,2,4,4,9,10)),"minute"),false,"hour mismatch");f.equal(e.isSame(moment(new Date(2011,1,2,3,5,9,10)),"minute"),false,"minute mismatch");f.equal(e.isSame(moment(new Date(2011,1,2,3,4,0,0)),"minute"),true,"exact start of minute");f.equal(e.isSame(moment(new Date(2011,1,2,3,4,59,999)),"minute"),true,"exact end of minute");f.equal(e.isSame(moment(new Date(2011,1,2,3,5,0,0)),"minute"),false,"start of next minute");f.equal(e.isSame(moment(new Date(2011,1,2,3,3,59,999)),"minute"),false,"end of previous minute");f.equal(e.isSame(e,"minute"),true,"same moments are in the same minute");f.equal(+e,+d,"isSame minute should not change moment");f.done()},"is same second":function(f){f.expect(14);var e=moment(new Date(2011,1,2,3,4,5,6)),d=moment(e);f.equal(e.isSame(moment(new Date(2011,1,2,3,4,5,10)),"second"),true,"second match");f.equal(e.isSame(moment(new Date(2011,1,2,3,4,5,10)),"seconds"),true,"plural should work");f.equal(e.isSame(moment(new Date(2012,1,2,3,4,5,10)),"second"),false,"year mismatch");f.equal(e.isSame(moment(new Date(2011,2,2,3,4,5,10)),"second"),false,"month mismatch");f.equal(e.isSame(moment(new Date(2011,1,3,3,4,5,10)),"second"),false,"day mismatch");f.equal(e.isSame(moment(new Date(2011,1,2,4,4,5,10)),"second"),false,"hour mismatch");f.equal(e.isSame(moment(new Date(2011,1,2,3,5,5,10)),"second"),false,"minute mismatch");f.equal(e.isSame(moment(new Date(2011,1,2,3,4,6,10)),"second"),false,"second mismatch");f.equal(e.isSame(moment(new Date(2011,1,2,3,4,5,0)),"second"),true,"exact start of second");f.equal(e.isSame(moment(new Date(2011,1,2,3,4,5,999)),"second"),true,"exact end of second");f.equal(e.isSame(moment(new Date(2011,1,2,3,4,6,0)),"second"),false,"start of next second");f.equal(e.isSame(moment(new Date(2011,1,2,3,4,4,999)),"second"),false,"end of previous second");f.equal(e.isSame(e,"second"),true,"same moments are in the same second");f.equal(+e,+d,"isSame second should not change moment");f.done()},"is same millisecond":function(f){f.expect(18);var e=moment(new Date(2011,3,2,3,4,5,10)),d=moment(e);f.equal(e.isSame(moment(new Date(2011,3,2,3,4,5,10)),"millisecond"),true,"millisecond match");f.equal(e.isSame(moment(new Date(2011,3,2,3,4,5,10)),"milliseconds"),true,"plural should work");f.equal(e.isSame(moment(new Date(2012,3,2,3,4,5,10)),"millisecond"),false,"year is later");f.equal(e.isSame(moment(new Date(2010,3,2,3,4,5,10)),"millisecond"),false,"year is earlier");f.equal(e.isSame(moment(new Date(2011,4,2,3,4,5,10)),"millisecond"),false,"month is later");f.equal(e.isSame(moment(new Date(2011,2,2,3,4,5,10)),"millisecond"),false,"month is earlier");f.equal(e.isSame(moment(new Date(2011,3,3,3,4,5,10)),"millisecond"),false,"day is later");f.equal(e.isSame(moment(new Date(2011,3,1,1,4,5,10)),"millisecond"),false,"day is earlier");f.equal(e.isSame(moment(new Date(2011,3,2,4,4,5,10)),"millisecond"),false,"hour is later");f.equal(e.isSame(moment(new Date(2011,3,1,4,1,5,10)),"millisecond"),false,"hour is earlier");f.equal(e.isSame(moment(new Date(2011,3,2,3,5,5,10)),"millisecond"),false,"minute is later");f.equal(e.isSame(moment(new Date(2011,3,2,3,3,5,10)),"millisecond"),false,"minute is earlier");f.equal(e.isSame(moment(new Date(2011,3,2,3,4,6,10)),"millisecond"),false,"second is later");f.equal(e.isSame(moment(new Date(2011,3,2,3,4,4,5)),"millisecond"),false,"second is earlier");f.equal(e.isSame(moment(new Date(2011,3,2,3,4,6,11)),"millisecond"),false,"millisecond is later");f.equal(e.isSame(moment(new Date(2011,3,2,3,4,4,9)),"millisecond"),false,"millisecond is earlier");f.equal(e.isSame(e,"millisecond"),true,"same moments are in the same millisecond");f.equal(+e,+d,"isSame millisecond should not change moment");f.done()},"is same with zone'd moments":function(b){b.expect(3);b.ok(moment.parseZone("2013-02-01T-05:00").isSame(moment("2013-02-01"),"year"),"zoned vs local moment");b.ok(moment("2013-02-01").isSame(moment("2013-02-01").zone("-05:00"),"year"),"local vs zoned moment");b.ok(moment.parseZone("2013-02-01T-05:00").isSame(moment.parseZone("2013-02-01T-06:30"),"year"),"zoned vs (differently) zoned moment");b.done()}};