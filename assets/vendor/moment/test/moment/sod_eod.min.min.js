var moment=require("../../moment");exports.endStartOf={setUp:function(b){moment.locale("en");moment.createFromInputFallback=function(){throw new Error("input not handled by moment")};b()},tearDown:function(b){moment.locale("en");b()},"start of year":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).startOf("year"),e=moment(new Date(2011,1,2,3,4,5,6)).startOf("years"),h=moment(new Date(2011,1,2,3,4,5,6)).startOf("y");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),0,"strip out the month");g.equal(f.date(),1,"strip out the day");g.equal(f.hours(),0,"strip out the hours");g.equal(f.minutes(),0,"strip out the minutes");g.equal(f.seconds(),0,"strip out the seconds");g.equal(f.milliseconds(),0,"strip out the milliseconds");g.done()},"end of year":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).endOf("year"),e=moment(new Date(2011,1,2,3,4,5,6)).endOf("years"),h=moment(new Date(2011,1,2,3,4,5,6)).endOf("y");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),11,"set the month");g.equal(f.date(),31,"set the day");g.equal(f.hours(),23,"set the hours");g.equal(f.minutes(),59,"set the minutes");g.equal(f.seconds(),59,"set the seconds");g.equal(f.milliseconds(),999,"set the seconds");g.done()},"start of quarter":function(g){g.expect(10);var f=moment(new Date(2011,4,2,3,4,5,6)).startOf("quarter"),e=moment(new Date(2011,4,2,3,4,5,6)).startOf("quarters"),h=moment(new Date(2011,4,2,3,4,5,6)).startOf("Q");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.quarter(),2,"keep the quarter");g.equal(f.month(),3,"strip out the month");g.equal(f.date(),1,"strip out the day");g.equal(f.hours(),0,"strip out the hours");g.equal(f.minutes(),0,"strip out the minutes");g.equal(f.seconds(),0,"strip out the seconds");g.equal(f.milliseconds(),0,"strip out the milliseconds");g.done()},"end of quarter":function(g){g.expect(10);var f=moment(new Date(2011,4,2,3,4,5,6)).endOf("quarter"),e=moment(new Date(2011,4,2,3,4,5,6)).endOf("quarters"),h=moment(new Date(2011,4,2,3,4,5,6)).endOf("Q");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.quarter(),2,"keep the quarter");g.equal(f.month(),5,"set the month");g.equal(f.date(),30,"set the day");g.equal(f.hours(),23,"set the hours");g.equal(f.minutes(),59,"set the minutes");g.equal(f.seconds(),59,"set the seconds");g.equal(f.milliseconds(),999,"set the seconds");g.done()},"start of month":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).startOf("month"),e=moment(new Date(2011,1,2,3,4,5,6)).startOf("months"),h=moment(new Date(2011,1,2,3,4,5,6)).startOf("M");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.date(),1,"strip out the day");g.equal(f.hours(),0,"strip out the hours");g.equal(f.minutes(),0,"strip out the minutes");g.equal(f.seconds(),0,"strip out the seconds");g.equal(f.milliseconds(),0,"strip out the milliseconds");g.done()},"end of month":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).endOf("month"),e=moment(new Date(2011,1,2,3,4,5,6)).endOf("months"),h=moment(new Date(2011,1,2,3,4,5,6)).endOf("M");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.date(),28,"set the day");g.equal(f.hours(),23,"set the hours");g.equal(f.minutes(),59,"set the minutes");g.equal(f.seconds(),59,"set the seconds");g.equal(f.milliseconds(),999,"set the seconds");g.done()},"start of week":function(g){g.expect(10);var f=moment(new Date(2011,1,2,3,4,5,6)).startOf("week"),e=moment(new Date(2011,1,2,3,4,5,6)).startOf("weeks"),h=moment(new Date(2011,1,2,3,4,5,6)).startOf("w");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),0,"rolls back to January");g.equal(f.day(),0,"set day of week");g.equal(f.date(),30,"set correct date");g.equal(f.hours(),0,"strip out the hours");g.equal(f.minutes(),0,"strip out the minutes");g.equal(f.seconds(),0,"strip out the seconds");g.equal(f.milliseconds(),0,"strip out the milliseconds");g.done()},"end of week":function(g){g.expect(10);var f=moment(new Date(2011,1,2,3,4,5,6)).endOf("week"),e=moment(new Date(2011,1,2,3,4,5,6)).endOf("weeks"),h=moment(new Date(2011,1,2,3,4,5,6)).endOf("weeks");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.day(),6,"set the day of the week");g.equal(f.date(),5,"set the day");g.equal(f.hours(),23,"set the hours");g.equal(f.minutes(),59,"set the minutes");g.equal(f.seconds(),59,"set the seconds");g.equal(f.milliseconds(),999,"set the seconds");g.done()},"start of iso-week":function(g){g.expect(10);var f=moment(new Date(2011,1,2,3,4,5,6)).startOf("isoWeek"),e=moment(new Date(2011,1,2,3,4,5,6)).startOf("isoWeeks"),h=moment(new Date(2011,1,2,3,4,5,6)).startOf("W");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),0,"rollback to January");g.equal(f.isoWeekday(),1,"set day of iso-week");g.equal(f.date(),31,"set correct date");g.equal(f.hours(),0,"strip out the hours");g.equal(f.minutes(),0,"strip out the minutes");g.equal(f.seconds(),0,"strip out the seconds");g.equal(f.milliseconds(),0,"strip out the milliseconds");g.done()},"end of iso-week":function(g){g.expect(10);var f=moment(new Date(2011,1,2,3,4,5,6)).endOf("isoWeek"),e=moment(new Date(2011,1,2,3,4,5,6)).endOf("isoWeeks"),h=moment(new Date(2011,1,2,3,4,5,6)).endOf("W");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.isoWeekday(),7,"set the day of the week");g.equal(f.date(),6,"set the day");g.equal(f.hours(),23,"set the hours");g.equal(f.minutes(),59,"set the minutes");g.equal(f.seconds(),59,"set the seconds");g.equal(f.milliseconds(),999,"set the seconds");g.done()},"start of day":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).startOf("day"),e=moment(new Date(2011,1,2,3,4,5,6)).startOf("days"),h=moment(new Date(2011,1,2,3,4,5,6)).startOf("d");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.date(),2,"keep the day");g.equal(f.hours(),0,"strip out the hours");g.equal(f.minutes(),0,"strip out the minutes");g.equal(f.seconds(),0,"strip out the seconds");g.equal(f.milliseconds(),0,"strip out the milliseconds");g.done()},"end of day":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).endOf("day"),e=moment(new Date(2011,1,2,3,4,5,6)).endOf("days"),h=moment(new Date(2011,1,2,3,4,5,6)).endOf("d");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.date(),2,"keep the day");g.equal(f.hours(),23,"set the hours");g.equal(f.minutes(),59,"set the minutes");g.equal(f.seconds(),59,"set the seconds");g.equal(f.milliseconds(),999,"set the seconds");g.done()},"start of hour":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).startOf("hour"),e=moment(new Date(2011,1,2,3,4,5,6)).startOf("hours"),h=moment(new Date(2011,1,2,3,4,5,6)).startOf("h");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.date(),2,"keep the day");g.equal(f.hours(),3,"keep the hours");g.equal(f.minutes(),0,"strip out the minutes");g.equal(f.seconds(),0,"strip out the seconds");g.equal(f.milliseconds(),0,"strip out the milliseconds");g.done()},"end of hour":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).endOf("hour"),e=moment(new Date(2011,1,2,3,4,5,6)).endOf("hours"),h=moment(new Date(2011,1,2,3,4,5,6)).endOf("h");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.date(),2,"keep the day");g.equal(f.hours(),3,"keep the hours");g.equal(f.minutes(),59,"set the minutes");g.equal(f.seconds(),59,"set the seconds");g.equal(f.milliseconds(),999,"set the seconds");g.done()},"start of minute":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).startOf("minute"),e=moment(new Date(2011,1,2,3,4,5,6)).startOf("minutes"),h=moment(new Date(2011,1,2,3,4,5,6)).startOf("m");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.date(),2,"keep the day");g.equal(f.hours(),3,"keep the hours");g.equal(f.minutes(),4,"keep the minutes");g.equal(f.seconds(),0,"strip out the seconds");g.equal(f.milliseconds(),0,"strip out the milliseconds");g.done()},"end of minute":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).endOf("minute"),e=moment(new Date(2011,1,2,3,4,5,6)).endOf("minutes"),h=moment(new Date(2011,1,2,3,4,5,6)).endOf("m");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.date(),2,"keep the day");g.equal(f.hours(),3,"keep the hours");g.equal(f.minutes(),4,"keep the minutes");g.equal(f.seconds(),59,"set the seconds");g.equal(f.milliseconds(),999,"set the seconds");g.done()},"start of second":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).startOf("second"),e=moment(new Date(2011,1,2,3,4,5,6)).startOf("seconds"),h=moment(new Date(2011,1,2,3,4,5,6)).startOf("s");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.date(),2,"keep the day");g.equal(f.hours(),3,"keep the hours");g.equal(f.minutes(),4,"keep the minutes");g.equal(f.seconds(),5,"keep the the seconds");g.equal(f.milliseconds(),0,"strip out the milliseconds");g.done()},"end of second":function(g){g.expect(9);var f=moment(new Date(2011,1,2,3,4,5,6)).endOf("second"),e=moment(new Date(2011,1,2,3,4,5,6)).endOf("seconds"),h=moment(new Date(2011,1,2,3,4,5,6)).endOf("s");g.equal(+f,+e,"Plural or singular should work");g.equal(+f,+h,"Full or abbreviated should work");g.equal(f.year(),2011,"keep the year");g.equal(f.month(),1,"keep the month");g.equal(f.date(),2,"keep the day");g.equal(f.hours(),3,"keep the hours");g.equal(f.minutes(),4,"keep the minutes");g.equal(f.seconds(),5,"keep the seconds");g.equal(f.milliseconds(),999,"set the seconds");g.done()},"startOf across DST +1":function(g){var e=moment.updateOffset,h=moment("2014-03-09T02:00:00-08:00").parseZone(),f;moment.updateOffset=function(b,a){if(b.isBefore(h)){b.zone(8,a)}else{b.zone(7,a)}};f=moment("2014-03-15T00:00:00-07:00").parseZone();f.startOf("M");g.equal(f.format(),"2014-03-01T00:00:00-08:00","startOf('month') across +1");f=moment("2014-03-09T09:00:00-07:00").parseZone();f.startOf("d");g.equal(f.format(),"2014-03-09T00:00:00-08:00","startOf('day') across +1");f=moment("2014-03-09T03:05:00-07:00").parseZone();f.startOf("h");g.equal(f.format(),"2014-03-09T03:00:00-07:00","startOf('hour') after +1");f=moment("2014-03-09T01:35:00-08:00").parseZone();f.startOf("h");g.equal(f.format(),"2014-03-09T01:00:00-08:00","startOf('hour') before +1");moment.updateOffset=e;g.done()},"startOf across DST -1":function(g){var e=moment.updateOffset,h=moment("2014-11-02T02:00:00-07:00").parseZone(),f;moment.updateOffset=function(b,a){if(b.isBefore(h)){b.zone(7,a)}else{b.zone(8,a)}};f=moment("2014-11-15T00:00:00-08:00").parseZone();f.startOf("M");g.equal(f.format(),"2014-11-01T00:00:00-07:00","startOf('month') across -1");f=moment("2014-11-02T09:00:00-08:00").parseZone();f.startOf("d");g.equal(f.format(),"2014-11-02T00:00:00-07:00","startOf('day') across -1");f=moment("2014-11-02T01:30:00-08:00").parseZone();f.startOf("h");g.equal(f.format(),"2014-11-02T01:00:00-08:00","startOf('hour') after +1");f=moment("2014-11-02T01:30:00-07:00").parseZone();f.startOf("h");g.equal(f.format(),"2014-11-02T01:00:00-07:00","startOf('hour') before +1");moment.updateOffset=e;g.done()}};