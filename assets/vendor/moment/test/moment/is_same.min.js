var moment=require("../../moment");exports.isSame={setUp:function(a){moment.createFromInputFallback=function(){throw new Error("input not handled by moment")};a()},"is same without units":function(c){c.expect(17);var a=moment(new Date(2011,3,2,3,4,5,10)),b=moment(a);c.equal(a.isSame(moment(new Date(2012,3,2,3,5,5,10))),false,"year is later");c.equal(a.isSame(moment(new Date(2010,3,2,3,3,5,10))),false,"year is earlier");c.equal(a.isSame(moment(new Date(2011,4,2,3,4,5,10))),false,"month is later");c.equal(a.isSame(moment(new Date(2011,2,2,3,4,5,10))),false,"month is earlier");c.equal(a.isSame(moment(new Date(2011,3,3,3,4,5,10))),false,"day is later");c.equal(a.isSame(moment(new Date(2011,3,1,3,4,5,10))),false,"day is earlier");c.equal(a.isSame(moment(new Date(2011,3,2,4,4,5,10))),false,"hour is later");c.equal(a.isSame(moment(new Date(2011,3,2,2,4,5,10))),false,"hour is earlier");c.equal(a.isSame(moment(new Date(2011,3,2,3,5,5,10))),false,"minute is later");c.equal(a.isSame(moment(new Date(2011,3,2,3,3,5,10))),false,"minute is earlier");c.equal(a.isSame(moment(new Date(2011,3,2,3,4,6,10))),false,"second is later");c.equal(a.isSame(moment(new Date(2011,3,2,3,4,4,11))),false,"second is earlier");c.equal(a.isSame(moment(new Date(2011,3,2,3,4,5,10))),true,"millisecond match");c.equal(a.isSame(moment(new Date(2011,3,2,3,4,5,11))),false,"millisecond is later");c.equal(a.isSame(moment(new Date(2011,3,2,3,4,5,9))),false,"millisecond is earlier");c.equal(a.isSame(a),true,"moments are the same as themselves");c.equal(+a,+b,"isSame second should not change moment");c.done()},"is same year":function(c){c.expect(9);var a=moment(new Date(2011,1,2,3,4,5,6)),b=moment(a);c.equal(a.isSame(moment(new Date(2011,5,6,7,8,9,10)),"year"),true,"year match");c.equal(a.isSame(moment(new Date(2011,5,6,7,8,9,10)),"years"),true,"plural should work");c.equal(a.isSame(moment(new Date(2012,5,6,7,8,9,10)),"year"),false,"year mismatch");c.equal(a.isSame(moment(new Date(2011,0,1,0,0,0,0)),"year"),true,"exact start of year");c.equal(a.isSame(moment(new Date(2011,11,31,23,59,59,999)),"year"),true,"exact end of year");c.equal(a.isSame(moment(new Date(2012,0,1,0,0,0,0)),"year"),false,"start of next year");c.equal(a.isSame(moment(new Date(2010,11,31,23,59,59,999)),"year"),false,"end of previous year");c.equal(a.isSame(a,"year"),true,"same moments are in the same year");c.equal(+a,+b,"isSame year should not change moment");c.done()},"is same month":function(c){c.expect(10);var a=moment(new Date(2011,2,3,4,5,6,7)),b=moment(a);c.equal(a.isSame(moment(new Date(2011,2,6,7,8,9,10)),"month"),true,"month match");c.equal(a.isSame(moment(new Date(2011,2,6,7,8,9,10)),"months"),true,"plural should work");c.equal(a.isSame(moment(new Date(2012,2,6,7,8,9,10)),"month"),false,"year mismatch");c.equal(a.isSame(moment(new Date(2011,5,6,7,8,9,10)),"month"),false,"month mismatch");c.equal(a.isSame(moment(new Date(2011,2,1,0,0,0,0)),"month"),true,"exact start of month");c.equal(a.isSame(moment(new Date(2011,2,31,23,59,59,999)),"month"),true,"exact end of month");c.equal(a.isSame(moment(new Date(2011,3,1,0,0,0,0)),"month"),false,"start of next month");c.equal(a.isSame(moment(new Date(2011,1,27,23,59,59,999)),"month"),false,"end of previous month");c.equal(a.isSame(a,"month"),true,"same moments are in the same month");c.equal(+a,+b,"isSame month should not change moment");c.done()},"is same day":function(c){c.expect(11);var a=moment(new Date(2011,1,2,3,4,5,6)),b=moment(a);c.equal(a.isSame(moment(new Date(2011,1,2,7,8,9,10)),"day"),true,"day match");c.equal(a.isSame(moment(new Date(2011,1,2,7,8,9,10)),"days"),true,"plural should work");c.equal(a.isSame(moment(new Date(2012,1,2,7,8,9,10)),"day"),false,"year mismatch");c.equal(a.isSame(moment(new Date(2011,2,2,7,8,9,10)),"day"),false,"month mismatch");c.equal(a.isSame(moment(new Date(2011,1,3,7,8,9,10)),"day"),false,"day mismatch");c.equal(a.isSame(moment(new Date(2011,1,2,0,0,0,0)),"day"),true,"exact start of day");c.equal(a.isSame(moment(new Date(2011,1,2,23,59,59,999)),"day"),true,"exact end of day");c.equal(a.isSame(moment(new Date(2011,1,3,0,0,0,0)),"day"),false,"start of next day");c.equal(a.isSame(moment(new Date(2011,1,1,23,59,59,999)),"day"),false,"end of previous day");c.equal(a.isSame(a,"day"),true,"same moments are in the same day");c.equal(+a,+b,"isSame day should not change moment");c.done()},"is same hour":function(c){c.expect(12);var a=moment(new Date(2011,1,2,3,4,5,6)),b=moment(a);c.equal(a.isSame(moment(new Date(2011,1,2,3,8,9,10)),"hour"),true,"hour match");c.equal(a.isSame(moment(new Date(2011,1,2,3,8,9,10)),"hours"),true,"plural should work");c.equal(a.isSame(moment(new Date(2012,1,2,3,8,9,10)),"hour"),false,"year mismatch");c.equal(a.isSame(moment(new Date(2011,2,2,3,8,9,10)),"hour"),false,"month mismatch");c.equal(a.isSame(moment(new Date(2011,1,3,3,8,9,10)),"hour"),false,"day mismatch");c.equal(a.isSame(moment(new Date(2011,1,2,4,8,9,10)),"hour"),false,"hour mismatch");c.equal(a.isSame(moment(new Date(2011,1,2,3,0,0,0)),"hour"),true,"exact start of hour");c.equal(a.isSame(moment(new Date(2011,1,2,3,59,59,999)),"hour"),true,"exact end of hour");c.equal(a.isSame(moment(new Date(2011,1,2,4,0,0,0)),"hour"),false,"start of next hour");c.equal(a.isSame(moment(new Date(2011,1,2,2,59,59,999)),"hour"),false,"end of previous hour");c.equal(a.isSame(a,"hour"),true,"same moments are in the same hour");c.equal(+a,+b,"isSame hour should not change moment");c.done()},"is same minute":function(c){c.expect(13);var a=moment(new Date(2011,1,2,3,4,5,6)),b=moment(a);c.equal(a.isSame(moment(new Date(2011,1,2,3,4,9,10)),"minute"),true,"minute match");c.equal(a.isSame(moment(new Date(2011,1,2,3,4,9,10)),"minutes"),true,"plural should work");c.equal(a.isSame(moment(new Date(2012,1,2,3,4,9,10)),"minute"),false,"year mismatch");c.equal(a.isSame(moment(new Date(2011,2,2,3,4,9,10)),"minute"),false,"month mismatch");c.equal(a.isSame(moment(new Date(2011,1,3,3,4,9,10)),"minute"),false,"day mismatch");c.equal(a.isSame(moment(new Date(2011,1,2,4,4,9,10)),"minute"),false,"hour mismatch");c.equal(a.isSame(moment(new Date(2011,1,2,3,5,9,10)),"minute"),false,"minute mismatch");c.equal(a.isSame(moment(new Date(2011,1,2,3,4,0,0)),"minute"),true,"exact start of minute");c.equal(a.isSame(moment(new Date(2011,1,2,3,4,59,999)),"minute"),true,"exact end of minute");c.equal(a.isSame(moment(new Date(2011,1,2,3,5,0,0)),"minute"),false,"start of next minute");c.equal(a.isSame(moment(new Date(2011,1,2,3,3,59,999)),"minute"),false,"end of previous minute");c.equal(a.isSame(a,"minute"),true,"same moments are in the same minute");c.equal(+a,+b,"isSame minute should not change moment");c.done()},"is same second":function(c){c.expect(14);var a=moment(new Date(2011,1,2,3,4,5,6)),b=moment(a);c.equal(a.isSame(moment(new Date(2011,1,2,3,4,5,10)),"second"),true,"second match");c.equal(a.isSame(moment(new Date(2011,1,2,3,4,5,10)),"seconds"),true,"plural should work");c.equal(a.isSame(moment(new Date(2012,1,2,3,4,5,10)),"second"),false,"year mismatch");c.equal(a.isSame(moment(new Date(2011,2,2,3,4,5,10)),"second"),false,"month mismatch");c.equal(a.isSame(moment(new Date(2011,1,3,3,4,5,10)),"second"),false,"day mismatch");c.equal(a.isSame(moment(new Date(2011,1,2,4,4,5,10)),"second"),false,"hour mismatch");c.equal(a.isSame(moment(new Date(2011,1,2,3,5,5,10)),"second"),false,"minute mismatch");c.equal(a.isSame(moment(new Date(2011,1,2,3,4,6,10)),"second"),false,"second mismatch");c.equal(a.isSame(moment(new Date(2011,1,2,3,4,5,0)),"second"),true,"exact start of second");c.equal(a.isSame(moment(new Date(2011,1,2,3,4,5,999)),"second"),true,"exact end of second");c.equal(a.isSame(moment(new Date(2011,1,2,3,4,6,0)),"second"),false,"start of next second");c.equal(a.isSame(moment(new Date(2011,1,2,3,4,4,999)),"second"),false,"end of previous second");c.equal(a.isSame(a,"second"),true,"same moments are in the same second");c.equal(+a,+b,"isSame second should not change moment");c.done()},"is same millisecond":function(c){c.expect(18);var a=moment(new Date(2011,3,2,3,4,5,10)),b=moment(a);c.equal(a.isSame(moment(new Date(2011,3,2,3,4,5,10)),"millisecond"),true,"millisecond match");c.equal(a.isSame(moment(new Date(2011,3,2,3,4,5,10)),"milliseconds"),true,"plural should work");c.equal(a.isSame(moment(new Date(2012,3,2,3,4,5,10)),"millisecond"),false,"year is later");c.equal(a.isSame(moment(new Date(2010,3,2,3,4,5,10)),"millisecond"),false,"year is earlier");c.equal(a.isSame(moment(new Date(2011,4,2,3,4,5,10)),"millisecond"),false,"month is later");c.equal(a.isSame(moment(new Date(2011,2,2,3,4,5,10)),"millisecond"),false,"month is earlier");c.equal(a.isSame(moment(new Date(2011,3,3,3,4,5,10)),"millisecond"),false,"day is later");c.equal(a.isSame(moment(new Date(2011,3,1,1,4,5,10)),"millisecond"),false,"day is earlier");c.equal(a.isSame(moment(new Date(2011,3,2,4,4,5,10)),"millisecond"),false,"hour is later");c.equal(a.isSame(moment(new Date(2011,3,1,4,1,5,10)),"millisecond"),false,"hour is earlier");c.equal(a.isSame(moment(new Date(2011,3,2,3,5,5,10)),"millisecond"),false,"minute is later");c.equal(a.isSame(moment(new Date(2011,3,2,3,3,5,10)),"millisecond"),false,"minute is earlier");c.equal(a.isSame(moment(new Date(2011,3,2,3,4,6,10)),"millisecond"),false,"second is later");c.equal(a.isSame(moment(new Date(2011,3,2,3,4,4,5)),"millisecond"),false,"second is earlier");c.equal(a.isSame(moment(new Date(2011,3,2,3,4,6,11)),"millisecond"),false,"millisecond is later");c.equal(a.isSame(moment(new Date(2011,3,2,3,4,4,9)),"millisecond"),false,"millisecond is earlier");c.equal(a.isSame(a,"millisecond"),true,"same moments are in the same millisecond");c.equal(+a,+b,"isSame millisecond should not change moment");c.done()},"is same with zone'd moments":function(a){a.expect(3);a.ok(moment.parseZone("2013-02-01T-05:00").isSame(moment("2013-02-01"),"year"),"zoned vs local moment");a.ok(moment("2013-02-01").isSame(moment("2013-02-01").zone("-05:00"),"year"),"local vs zoned moment");a.ok(moment.parseZone("2013-02-01T-05:00").isSame(moment.parseZone("2013-02-01T-06:30"),"year"),"zoned vs (differently) zoned moment");a.done()}};