module.exports=function(f){f.registerTask("embedLocales",function(){var i=f.config("embedLocales");var j=f.file.expand(i.targetLocales);var g=a(j);var h=f.file.read(i.moment);var k=h.replace("/* EMBED_LOCALES */",function(){return g});f.file.write(i.dest,k)});var d="moment.locale('en');";function a(h){var g="";h.forEach(function(i){g+=e(i)});g+="\n    "+d+"\n";return g}var c=/function \(factory\) \{[^]*\}(?=\(function \(moment\) \{)/gm;var b="function (factory) {\n    factory(moment);\n}";function e(g){var h=f.file.read(g);if(!h.match(c)){f.warn("Warning: all locale files must use the common UMD wrapper pattern. Failed locale file: "+g);return""}return h.replace(c,b)}};