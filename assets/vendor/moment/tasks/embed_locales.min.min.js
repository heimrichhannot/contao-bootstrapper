module.exports=function(i){i.registerTask("embedLocales",function(){var c=i.config("embedLocales");var b=i.file.expand(c.targetLocales);var e=h(b);var d=i.file.read(c.moment);var a=d.replace("/* EMBED_LOCALES */",function(){return e});i.file.write(c.dest,a)});var k="moment.locale('en');";function h(a){var b="";a.forEach(function(c){b+=j(c)});b+="\n    "+k+"\n";return b}var l=/function \(factory\) \{[^]*\}(?=\(function \(moment\) \{)/gm;var g="function (factory) {\n    factory(moment);\n}";function j(b){var a=i.file.read(b);if(!a.match(l)){i.warn("Warning: all locale files must use the common UMD wrapper pattern. Failed locale file: "+b);return""}return a.replace(l,g)}};