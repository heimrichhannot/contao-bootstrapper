/* matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */
(function(b){if(b.matchMedia&&b.matchMedia("all").addListener){return false}var f=b.matchMedia,a=f("only all").matches,e=false,g=0,d=[],c=function(h){b.clearTimeout(g);g=b.setTimeout(function(){for(var o=0,l=d.length;o<l;o++){var k=d[o].mql,p=d[o].listeners||[],q=f(k.media).matches;if(q!==k.matches){k.matches=q;for(var m=0,n=p.length;m<n;m++){p[m].call(b,k)}}}},30)};b.matchMedia=function(k){var h=f(k),j=[],i=0;h.addListener=function(l){if(!a){return}if(!e){e=true;b.addEventListener("resize",c,true)}if(i===0){i=d.push({mql:h,listeners:j})}j.push(l)};h.removeListener=function(n){for(var m=0,l=j.length;m<l;m++){if(j[m]===n){j.splice(m,1)}}};return h}}(this));