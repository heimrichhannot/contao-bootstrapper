(function(b){var a={init:function(){this.initDateTimePicker();b(document).ajaxComplete(b.proxy(this.ajaxComplete,this))},initDateTimePicker:function(){var c={locale:b("html").attr("lang"),icons:{time:"fa fa-time",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-screenshot",clear:"fa fa-trash"}};b(".datepicker, .timepicker").each(function(e,m){var i=b(this),j=i.find("input"),f=j.data("mindate"),d=j.data("maxdate"),l=j.data("linked-unlock")==true,g=b(j.data("linked-start")),h=b(j.data("linked-end"));i.datetimepicker(b.extend({format:j.data("format")},c));if(moment(f,j.data("format")).isValid()){i.data("DateTimePicker").minDate(moment(f,j.data("format")))}if(moment(d,j.data("format")).isValid()){i.data("DateTimePicker").maxDate(moment(d,j.data("format")))}if(g.length>0){if(moment(g.val(),j.data("format")).isValid()){i.data("DateTimePicker").minDate(moment(g.val(),j.data("format")))}i.on("dp.change",function(k){if(moment(k.date).isValid()){if(l){if(k.date.isBefore(g.closest(".datepicker").data("DateTimePicker").date())){g.closest(".datepicker").data("DateTimePicker").date(k.date)}}else{g.closest(".datepicker").data("DateTimePicker").maxDate(k.date)}}})}if(h.length>0){if(moment(h.val(),j.data("format")).isValid()){i.data("DateTimePicker").maxDate(moment(h.val(),j.data("format")))}i.on("dp.change",function(k){if(moment(k.date).isValid()){if(l){if(k.date.isAfter(h.closest(".datepicker").data("DateTimePicker").date())){h.closest(".datepicker").data("DateTimePicker").date(k.date)}}else{h.closest(".datepicker").data("DateTimePicker").minDate(k.date)}}})}})},ajaxComplete:function(){this.initDateTimePicker()}};b(document).ready(function(){a.init()})})(jQuery);