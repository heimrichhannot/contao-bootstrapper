(function(b){var a={init:function(){this.initDateTimePicker();b(document).ajaxComplete(b.proxy(this.ajaxComplete,this))},initDateTimePicker:function(){var c={locale:b("html").attr("lang"),icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-screenshot",clear:"fa fa-trash"}};b(".datepicker, .timepicker").each(function(d,g){var i=b(this),l=i.find("input"),h=l.data(),j=b(h.linkedStart),f=b(h.linkedEnd);var e=b.fn.datetimepicker.defaults;for(var d in h){if(e[d]!=undefined){switch(d){case"minDate":case"maxDate":continue;break}e[d]=h[d]}}i.datetimepicker(b.extend(e,c));if(moment(h.minDate,h.format).isValid()){i.data("DateTimePicker").minDate(moment(h.minDate,h.format))}if(moment(h.maxDate,h.format).isValid()){i.data("DateTimePicker").maxDate(moment(h.maxDate,h.format))}if(j.length>0){if(moment(j.val(),h.format).isValid()){i.data("DateTimePicker").minDate(moment(j.val(),h.format))}i.on("dp.change",function(k){if(moment(k.date).isValid()){if(h.linkedUnlock){if(k.date.isBefore(j.closest(".datepicker").data("DateTimePicker").date())){j.closest(".datepicker").data("DateTimePicker").date(k.date)}}else{j.closest(".datepicker").data("DateTimePicker").maxDate(k.date)}}})}if(f.length>0){if(moment(f.val(),h.format).isValid()){i.data("DateTimePicker").maxDate(moment(f.val(),h.format))}i.on("dp.change",function(k){if(moment(k.date).isValid()){if(h.linkedUnlock){if(k.date.isAfter(f.closest(".datepicker").data("DateTimePicker").date())){f.closest(".datepicker").data("DateTimePicker").date(k.date)}}else{f.closest(".datepicker").data("DateTimePicker").minDate(k.date)}}})}})},ajaxComplete:function(){this.initDateTimePicker()}};b(document).ready(function(){a.init()})})(jQuery);