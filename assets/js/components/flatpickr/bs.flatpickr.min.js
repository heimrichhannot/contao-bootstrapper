(function(b){var a={init:function(){this.initFlatPickr();b(document).ajaxComplete(b.proxy(this.ajaxComplete,this))},initFlatPickr:function(){var c={allowInput:true,locale:b("html").attr("lang"),time_24hr:true};b(".datepicker, .timepicker").each(function(){var l=b(this),q=l.closest("form"),m=l.find("input"),f=m.data(),g="undefined"!==typeof f&&"linkedStart" in f?q.find(f.linkedStart):null,i="undefined"!==typeof f&&"linkedEnd" in f?q.find(f.linkedEnd):null,p=b.extend({},flatpickr.defaultConfig,c);function o(r){var k;if(r.hasClass("datimepicker")){k="YYYY-MM-DDTHH:mm"}else{if(r.hasClass("datepicker")){k="YYYY-MM-DD"}else{k="HH:mm"}}return k}function j(r,k){if("undefined"===typeof f){return}r.val(moment(k,(f.iso8601Format||f.momentDateFormat)).format(o(l)))}p.defaultDate=m.val();for(var e in f){if(f.hasOwnProperty(e)){p[e]=f[e]}}function h(k,r){k.attr("placeholder",r)}function n(k){return k.find("input:not(.flatpickr-mobile)").val()}function d(k){return k.find("input:not(.flatpickr-mobile)").attr("placeholder")}p.onReady=function(){var r=n(l),t=d(l),s=l.siblings(".flatpickr-mobile"),k=l.find("input").attr("id");if(null!==g&&g.length>0){s=b("."+k+".flatpickr-mobile")}if(null!==i&&i.length>0){s=b("."+k+".flatpickr-mobile")}if(r!==""){j(s,r)}if(t!==""){h(s,t)}s.wrap('<div class="input-group-wrapper '+k+'"></div>')};p.onChange=function(t,r,k){var s=t[0];if(null!==g&&g.length>0){if(g.val()!==""&&moment(s).isBefore(moment(g.val(),(g.data("iso8601Format")||g.data("momentDateFormat"))))){g.val(r);j(b("."+g.attr("id")+".flatpickr-mobile"),r)}}if(null!==i&&i.length>0){if(i.val()!==""&&moment(s).isAfter(moment(i.val(),(i.data("iso8601Format")||i.data("momentDateFormat"))))){i.val(r);j(b("."+i.attr("id")+".flatpickr-mobile"),r)}}m.val(r)};l.flatpickr(p);m.on("keyup",function(k){if(k.keyCode===13){m.closest("form").submit()}})})},ajaxComplete:function(){this.initFlatPickr()}};b(document).ready(function(){a.init()})})(jQuery);